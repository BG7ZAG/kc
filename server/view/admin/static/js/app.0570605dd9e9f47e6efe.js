webpackJsonp([1],{"0p3T":function(t,e){},"1FwP":function(t,e){},"1kTx":function(t,e){},"3ntp":function(t,e){},"7oOe":function(t,e){},"912t":function(t,e){},CrNv:function(t,e){},D9hl:function(t,e){},Emm0:function(t,e){},FgPk:function(t,e){},JfyB:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("UhgQ");var o=a("zHxO"),r=a.n(o),s=a("MVMM"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=a("vSla")({name:"App"},i,!1,function(t){a("Emm0")},null,null).exports,n=a("zO6J"),d={name:"login",head:function(){return{title:"登录"}},data:function(){return{code:"",ruleForm:{name:"",password:"",code:""},rules:{name:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}],code:[{required:!0,trigger:"blur",message:"请输入验证码"}]}}},created:function(){localStorage.getItem(!1)?this.$router.go(-1):this.getCode()},methods:{onSubmit:function(t){var e=this;this.$refs.ruleForm.validate(function(a){if(!a)return console.log("error submit!!"),!1;console.log(t),e.$api.post(e.$root.urlPath.MJK+"/login",{name:t.name,password:t.password,code:t.code},function(t){200===t.data.code?(e.$message({message:"登录成功",type:"success"}),localStorage.setItem("login",1),setTimeout(function(){e.$router.push("/")},1500)):(e.$message.error(t.data.msg),e.getCode())})})},getCode:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/code",{code:Date.now()},function(e){200===e.data.code?t.code=e.data.data.img:t.$message.error(e.data.msg)})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"login"},[a("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"80px"}},[a("h2",[t._v("康诚机电后台管理系统")]),t._v(" "),a("el-form-item",{attrs:{label:"账号",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"code",attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"60%"},model:{value:t.ruleForm.code,callback:function(e){t.$set(t.ruleForm,"code",e)},expression:"ruleForm.code"}}),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.code)},on:{click:t.getCode}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",round:""},on:{click:function(e){t.onSubmit(t.ruleForm)}}},[t._v("登录")])],1)],1)],1)},staticRenderFns:[]};var m=a("vSla")(d,c,!1,function(t){a("CrNv"),a("uC7J")},"data-v-704b1dd6",null).exports,u={head:function(){return{title:"康诚机电 - 后台管理系统"}},data:function(){return{activeIndex:"1",activeIndex2:"1",info:{arch:"x64",cpus:[{model:"Intel(R) Xeon(R) CPU E5-2620 v3 @ 2.40GHz",speed:2394,times:{user:3510944500,nice:32485600,sys:554442100,idle:176166276e3,irq:0}}],endianness:"LE",freemem:84,homedir:"/root",hostname:"instance-59w03xph",networkInterfaces:{lo:[{address:"127.0.0.1",netmask:"255.0.0.0",family:"IPv4",mac:"00:00:00:00:00:00",internal:!0,cidr:"127.0.0.1/8"},{address:"::1",netmask:"ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff",family:"IPv6",mac:"00:00:00:00:00:00",scopeid:0,internal:!0,cidr:"::1/128"}],eth0:[{address:"172.16.0.2",netmask:"255.255.240.0",family:"IPv4",mac:"fa:16:3e:59:c8:2d",internal:!1,cidr:"172.16.0.2/20"},{address:"fe80::f816:3eff:fe59:c82d",netmask:"ffff:ffff:ffff:ffff::",family:"IPv6",mac:"fa:16:3e:59:c8:2d",scopeid:2,internal:!1,cidr:"fe80::f816:3eff:fe59:c82d/64"}]},platform:"linux",release:"v10.2.1",tmpdir:"/tmp",totalmem:993,uptime:"209天19小时2分钟"}}},created:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/info",{},function(e){200===e.data.code?(t.info=e.data.data,console.log(e.data.data)):t.$message.error(e.data.msg)})}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container"},[a("section",{staticClass:"box server-info"},[a("h2",[t._v("服务器信息")]),t._v(" "),a("div",{staticClass:"server-main"},[a("ol",[a("li",[a("span",[t._v("Node版本:")]),t._v(t._s(t.info.release))]),t._v(" "),a("li",[a("span",[t._v("CPU信息:")]),t._v(t._s(t.info.cpus.length)+"核 "+t._s(t.info.cpus[0].model))]),t._v(" "),a("li",[a("span",[t._v("系统类型:")]),t._v(t._s(t.info.platform))])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("运行时间:")]),t._v(t._s(t.info.uptime))]),t._v(" "),a("li",[a("span",[t._v("处理器架构:")]),t._v(t._s(t.info.arch))]),t._v(" "),a("li",[a("span",[t._v("主机名:")]),t._v(t._s(t.info.hostname))])])])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"box"},[a("h2",[t._v("开发团队信息")]),t._v(" "),a("div",{staticClass:"server-main"},[a("ol",[a("li",[a("span",[t._v("github:")]),a("a",{attrs:{href:"https://github.com/hlbj105/kc",target:"_blank"}},[t._v("https://github.com/hlbj105/kc")])]),t._v(" "),a("li",[a("span",[t._v("码云:")]),a("a",{attrs:{href:"https://gitee.com/hlbj105/kang_cheng",target:"_blank"}},[t._v("https://gitee.com/hlbj105/kang_cheng")])]),t._v(" "),a("li",[a("span",[t._v("开发者:")]),a("a",{attrs:{href:"https://xn--nf1a578axkh.xn--fiqs8s/",target:"_blank"}},[t._v("Jason")])])])])])}]};var p=a("vSla")(u,f,!1,function(t){a("7oOe")},"data-v-56c39ce9",null).exports,h=a("HzJ8"),g=a.n(h),v={name:"category",data:function(){return{tableData3:[],multipleSelection:[],addCategoryBox:!1,form:{name:"",img:"",id:""},formLabelWidth:"100px",fileList:[]}},created:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/category",{},function(e){200===e.data.code?(t.category=e.data.data,t.tableData3=e.data.data.category):t.$message.error(e.data.msg)})},head:function(){return{title:"分类管理"}},methods:{handleCurrentChange:function(t){var e=this;this.$api.get(this.$root.urlPath.MJK+"/category",{current_page:t},function(t){200===t.data.code?e.tableData3=t.data.data.category:e.$message.error(t.data.msg)})},addCategory:function(t,e,a){if(t){var o=[{name:e,url:"../"+e}];this.fileList=o;var r=e.slice(3),s=this.form;s.name=a,s.img=r,s.id=t,this.form=s}else{this.fileList=[],this.form={name:"",img:"",id:""}}this.addCategoryBox=!this.addCategoryBox},addSubmit:function(){var t=this,e=this.form.name,a=this.form.img,o=this.form.id,r={img:a,name:e};""!==e?""!==a?(o&&(r.id=o),this.$api.post(this.$root.urlPath.MJK+"/addCategory",r,function(e){200===e.data.code?(t.addCategoryBox=!t.addCategoryBox,t.$message({message:e.data.msg,type:"success"}),t.$api.get(t.$root.urlPath.MJK+"/category",{},function(e){200===e.data.code?t.tableData3=e.data.data.category:t.$message.error(e.data.msg)})):t.$message.error(e.data.msg)})):this.$message({message:"请上传分类图片",type:"warning"}):this.$message({message:"请输入分类名称",type:"warning"})},delCategory:function(t,e){var a=this,o=[];if(t){if(e>0)return void this.$message({message:"该分类有商品不能删除",type:"warning"});o.push(t)}else{if(0===this.multipleSelection.length)return void this.$message({message:"请选择要删除的分类",type:"warning"});var r=!0,s=!1,i=void 0;try{for(var l,n=g()(this.multipleSelection);!(r=(l=n.next()).done);r=!0){var d=l.value;if(0!==d.goods_num)return void this.$message({message:"选中分类有商品不能删除",type:"warning"});o.push(d._id)}}catch(t){s=!0,i=t}finally{try{!r&&n.return&&n.return()}finally{if(s)throw i}}}this.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$api.delete(a.$root.urlPath.MJK+"/delCategory",{id:o},function(t){200===t.data.code?(a.$message({type:"success",message:"删除成功!"}),a.$api.get(a.$root.urlPath.MJK+"/category",{},function(t){200===t.data.code?a.tableData3=t.data.data.category:a.$message.error(t.data.msg)})):a.$message.error(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},handleSuccess:function(t,e,a){if(console.log(t,e,a),200===t.code){var o=this.form;o.img=t.data.img,this.form=o;var r=[{name:t.data.url,url:t.data.url}];this.fileList=r}else this.$message.error(t.msg)},handleError:function(t,e,a){console.log(t,e,a),this.$message.error("上传失败")},handleRemove:function(t,e){console.log(t,e)}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"box"},[a("h2",[t._v("分类管理")]),t._v(" "),a("div",{staticClass:"category-topBtn",staticStyle:{"margin-top":"20px"}},[a("el-button",{on:{click:function(e){t.addCategory()}}},[t._v("添加分类")]),t._v(" "),a("el-button",{on:{click:function(e){t.delCategory()}}},[t._v("删除分类")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",border:"",data:t.tableData3,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"id",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row._id))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"分类名称","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"imgPath",label:"分类图片",width:"200"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.img,alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_num",label:"商品数量",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.addCategory(e.row._id,e.row.img,e.row.name)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.delCategory(e.row._id,e.row.goods_num)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{staticClass:"addCategory-box",attrs:{"close-on-click-modal":!1,title:"添加分类",visible:t.addCategoryBox},on:{"update:visible":function(e){t.addCategoryBox=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"分类名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入分类名称","auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类图片","label-width":t.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://kc.hcode.xyz/api/upload","on-success":t.handleSuccess,"on-error":t.handleError,"on-remove":t.handleRemove,"file-list":t.fileList,limit:1,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addCategoryBox=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var b=a("vSla")(v,_,!1,function(t){a("FgPk")},"data-v-57c843b5",null).exports,y=(a("lMgl"),a("D9hl"),a("3ntp"),a("aiqZ")),$=a("FYkg");y.Quill.register("modules/ImageExtend",$.a);var w={components:{quillEditor:y.quillEditor},layout:"admin",scrollToTop:!0,name:"goods",data:function(){return{cActive:-1,category:[],goods:[],multipleSelection:[],addCategoryBox:!1,form:{name:"",id:"",category:"",img:[],content:""},fileList:[],formLabelWidth:"100px",dialogImageUrl:"",dialogVisible:!1,editorOption:{modules:{ImageExtend:{loading:!0,name:"file",size:3,action:"https://kc.hcode.xyz/api/upload",response:function(t){return t.data.url},headers:function(t){},start:function(){},end:function(){},error:function(){},change:function(t,e){}},toolbar:{container:[[{size:["small",!1,"large"]}],["bold","italic"],[{list:"ordered"},{list:"bullet"}],["link","image"]],handlers:{image:function(){$.b.emit(this.quill.id)}}}}}}},created:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/category",{},function(e){200===e.data.code?t.category=e.data.data.category:t.$message.error(e.data.msg)}),this.$api.get(this.$root.urlPath.MJK+"/goods",{},function(e){200===e.data.code?t.goods=e.data.data:t.$message.error(e.data.msg)})},head:function(){return{title:"商品管理"}},methods:{selectCategory:function(t){var e=this;console.log(t),this.cActive=t,this.$api.get(this.$root.urlPath.MJK+"/goods",{categoryId:t},function(t){200===t.data.code?(e.goods=t.data.data,e.$message({message:"获取成功",type:"success"})):(e.$message.error(t.data.msg),e.goods=[])})},handleCurrentChange:function(t){var e=this;this.$api.get(this.$root.urlPath.MJK+"/goods",{current_page:t},function(t){200===t.data.code?e.goods=t.data.data:e.$message.error(t.data.msg)})},addCategory:function(t){var e=this;if(this.addCategoryBox=!this.addCategoryBox,t){var a=this.form;this.$api.get(this.$root.urlPath.MJK+"/goods/detail",{id:t},function(o){200===o.data.code?(a.img=o.data.data[0].img,a.name=o.data.data[0].name,a.content=o.data.data[0].content,a.category=o.data.data[0].categoryId,a.id=t,e.form=a,e.fileList=o.data.data[0].img):e.$message.error(o.data.msg)})}else this.form={name:"",id:"",category:"",img:[],content:""},this.fileList=[]},addSubmit:function(){var t=this,e=this.form.id,a=this.form.name,o=this.form.img,r=this.form.content,s=this.form.category;a?s?o?r?""===e?this.$api.post(this.$root.urlPath.MJK+"/goods",{name:a,img:o,content:r,categoryId:s},function(e){200===e.data.code?(t.$message({message:"添加成功",type:"success"}),t.addCategoryBox=!t.addCategoryBox,t.$api.get(t.$root.urlPath.MJK+"/goods",{},function(e){200===e.data.code?t.goods=e.data.data:t.$message.error(e.data.msg)})):t.$message.error(e.data.msg)}):this.$api.put(this.$root.urlPath.MJK+"/goods",{id:e,name:a,img:o,content:r,categoryId:s},function(e){200===e.data.code?(t.$message({message:"修改成功",type:"success"}),t.addCategoryBox=!t.addCategoryBox,t.$api.get(t.$root.urlPath.MJK+"/goods",{},function(e){200===e.data.code?t.goods=e.data.data:t.$message.error(e.data.msg)})):t.$message.error(e.data.msg)}):this.$message.error("请输入商品详情"):this.$message.error("请上传商品轮播图"):this.$message.error("请选择分类"):this.$message.error("请输入商品名称")},delCategory:function(t){var e=this,a=[];if(t)a.push(t);else{if(0===this.multipleSelection.length)return void this.$message({message:"请选择要删除的商品",type:"warning"});var o=!0,r=!1,s=void 0;try{for(var i,l=g()(this.multipleSelection);!(o=(i=l.next()).done);o=!0){var n=i.value;a.push(n._id)}}catch(t){r=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}}console.log(a),this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api.delete(e.$root.urlPath.MJK+"/goods",{id:a},function(t){console.log(t.data),200===t.data.code?(e.$message({type:"success",message:"删除成功!"}),e.$api.get(e.$root.urlPath.MJK+"/goods",{},function(t){console.log(t.data),200===t.data.code?e.goods=t.data.data:e.$message.error(t.data.msg)})):e.$message.error(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},handleSuccess:function(t,e,a){if(console.log(t,e,a),200===t.code){console.log(this.fileList);var o={name:t.data.url,url:t.data.url};this.form.img.push(o),console.log("---------"),console.log(this.fileList)}else this.$message.error(t.msg)},handleError:function(t,e,a){console.log(t,e,a),this.$message.error("上传失败")},handleRemove:function(t,e){console.log(t,e);for(var a=t.uid,o=this.form.img,r=0;r<o.length;r++)o[r].uid===a&&o.splice(r,1);this.form.img=o},handlePictureCardPreview:function(t){this.dialogVisible=!0,this.dialogImageUrl=t.url},onEditorBlur:function(t){console.log("editor blur!",t)},onEditorFocus:function(t){console.log("editor focus!",t)},onEditorReady:function(t){console.log("editor ready!",t)},onEditorChange:function(t){var e=t.editor,a=t.html,o=t.text;console.log("editor change!",e,a,o),this.content=a}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"box"},[t._m(0),t._v(" "),a("div",{staticClass:"category-topBtn",staticStyle:{"margin-top":"20px"}},[a("el-button",{on:{click:function(e){t.addCategory()}}},[t._v("添加商品")]),t._v(" "),a("el-button",{on:{click:function(e){t.delCategory()}}},[t._v("删除商品")])],1),t._v(" "),a("div",{staticClass:"category-topBtn",staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:-1===t.cActive?"primary":""},on:{click:function(e){t.selectCategory()}}},[t._v("全部")]),t._v(" "),t._l(t.category,function(e){return a("el-button",{key:e._id,staticClass:"category-item",attrs:{type:t.cActive===e._id?"primary":""},on:{click:function(a){t.selectCategory(e._id)}}},[t._v(t._s(e.name))])})],2),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",border:"",data:t.goods.data,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"id",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row._id))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"添加时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.createTime))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"hot",label:"访问量",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.addCategory(e.row._id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.delCategory(e.row._id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.goods.limit,total:t.goods.total},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{staticClass:"addCategory-box",attrs:{"close-on-click-modal":!1,fullscreen:!0,title:"添加商品",visible:t.addCategoryBox},on:{"update:visible":function(e){t.addCategoryBox=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"商品名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入商品名称","auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品分类","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},t._l(t.category,function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"商品轮播图","label-width":t.formLabelWidth}},[a("el-upload",{attrs:{action:"https://kc.hcode.xyz/api/upload","list-type":"picture-card","file-list":t.fileList,"on-success":t.handleSuccess,"on-error":t.handleError,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("el-form-item",{attrs:{label:"商品详情","label-width":t.formLabelWidth}},[a("div",{staticClass:"quill-wrap"},[a("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addCategoryBox=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[this._v("商品管理 "),e("small")])}]};var C=a("vSla")(w,x,!1,function(t){a("1kTx"),a("0p3T")},"data-v-b8107386",null).exports,k={scrollToTop:!0,name:"swiper",data:function(){return{tableData3:[],multipleSelection:[],addCategoryBox:!1,form:{name:"",img:"",id:"",url:""},formLabelWidth:"100px",fileList:[]}},created:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/swiper",{},function(e){console.log(e.data),200===e.data.code?t.tableData3=e.data.data:t.$message.error(e.data.msg)})},methods:{addCategory:function(t,e,a,o){this.addCategoryBox=!this.addCategoryBox,t?(this.form={id:t,name:e,url:a,img:o},this.fileList=[{name:o,url:a}]):(this.form.id="",this.form.name="",this.form.url="",this.form.img="",this.fileList=[])},addSubmit:function(){var t=this,e=this.form.name,a=this.form.img,o=this.form.id;e?a?""===o?this.$api.post(this.$root.urlPath.MJK+"/swiper",{name:e,img:a},{},function(e){t.$message({message:"添加成功",type:"success"}),t.$api.get(t.$root.urlPath.MJK+"/swiper",{},function(e){console.log(e.data),200===e.data.code?(t.tableData3=e.data.data,t.addCategoryBox=!t.addCategoryBox):t.$message.error(e.msg)})}):this.$api.put(this.$root.urlPath.MJK+"/swiper",{name:e,img:a,id:o},function(e){200===e.data.code?(t.$message({message:"修改成功",type:"success"}),t.$api.get(t.$root.urlPath.MJK+"/swiper",{},function(e){console.log(e.data),200===e.data.code?(t.tableData3=e.data.data,t.addCategoryBox=!t.addCategoryBox):t.$message.error(e.msg)})):t.$message.error(e.msg)}):this.$message.error("请上传轮播图片"):this.$message.error("请输入轮播名称")},delCategory:function(t){var e=this,a=[];if(t)console.log("删除轮播"+t),a.push(t);else{if(0===this.multipleSelection.length)return void this.$message({message:"请选择要删除的轮播",type:"warning"});var o=!0,r=!1,s=void 0;try{for(var i,l=g()(this.multipleSelection);!(o=(i=l.next()).done);o=!0){var n=i.value;a.push(n._id)}}catch(t){r=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}}this.$confirm("此操作将永久删除该轮播, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api.delete(e.$root.urlPath.MJK+"/swiper",{params:{id:a}},function(t){200===t.data.code?(e.$message({type:"success",message:"删除成功!"}),e.$api.get(e.$root.urlPath.MJK+"/swiper",{},function(t){200===t.data.code?e.tableData3=t.data.data:e.$message.error(t.data.msg)})):e.$message({message:t.data.msg,type:"warning"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},handleSuccess:function(t,e,a){console.log(t,e,a),200===t.code?(this.form.img=t.data.img,this.form.url=t.data.url):this.$message.error(t.msg)},handleError:function(t,e,a){console.log(t,e,a)},handleRemove:function(t,e){console.log(t,e),this.form.img=""}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"box"},[a("h2",[t._v("轮播管理")]),t._v(" "),a("div",{staticClass:"category-topBtn",staticStyle:{"margin-top":"20px"}},[a("el-button",{on:{click:function(e){t.addCategory()}}},[t._v("添加轮播")]),t._v(" "),a("el-button",{on:{click:function(e){t.delCategory()}}},[t._v("删除轮播")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",border:"",data:t.tableData3,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"id",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row._id))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"轮播名称","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"img",label:"轮播图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.img,alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.addCategory(e.row._id,e.row.name,e.row.url,e.row.img)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.delCategory(e.row._id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-dialog",{staticClass:"addCategory-box",attrs:{"close-on-click-modal":!1,title:"添加轮播",visible:t.addCategoryBox},on:{"update:visible":function(e){t.addCategoryBox=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"轮播名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入轮播名称","auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"轮播图片","label-width":t.formLabelWidth}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://kc.hcode.xyz/api/upload","on-success":t.handleSuccess,"on-error":t.handleError,"on-remove":t.handleRemove,"file-list":t.fileList,limit:1,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb,建议尺寸390*150比例")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addCategoryBox=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var P=a("vSla")(k,S,!1,function(t){a("JfyB")},"data-v-0501786e",null).exports,L={layout:"admin",scrollToTop:!0,name:"contact",data:function(){return{contact:{},multipleSelection:[],addCategoryBox:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"100px"}},head:function(){return{title:"留言列表"}},created:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/contact",{},function(e){console.log(e.data),200===e.data.code?t.contact=e.data.data:t.$message.error(e.data.msg)})},methods:{handleCurrentChange:function(t){var e=this;this.$api.get(this.$root.urlPath.MJK+"/contact",{current_page:t},function(t){console.log(t.data),200===t.data.code?e.contact=t.data.data:e.$message.error(t.data.msg)})},delCategory:function(t){var e=this,a=[];if(t)a.push(t);else{if(0===this.multipleSelection.length)return void this.$message({message:"请选择要删除的留言",type:"warning"});var o=!0,r=!1,s=void 0;try{for(var i,l=g()(this.multipleSelection);!(o=(i=l.next()).done);o=!0){var n=i.value;a.push(n._id)}}catch(t){r=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}}this.$confirm("此操作将永久删除该留言, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api.delete(e.$root.urlPath.MJK+"/contact",{id:a},function(t){console.log(t.data),200===t.data.code?(e.$message({type:"success",message:"删除成功!"}),e.$api.get(e.$root.urlPath.MJK+"/contact",{},function(t){200===t.data.code?e.contact=t.data.data:e.$message.error(t.data.msg)})):e.$message({message:t.data.msg,type:"warning"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(t){this.multipleSelection=t,console.log(t)},handleSuccess:function(t,e,a){console.log(t,e,a)},handleError:function(t,e,a){console.log(t,e,a)},handleRemove:function(t,e){console.log(t,e)}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"box"},[a("h2",[t._v("留言列表")]),t._v(" "),a("div",{staticClass:"category-topBtn",staticStyle:{"margin-top":"20px"}},[a("el-button",{on:{click:function(e){t.delCategory()}}},[t._v("删除留言")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",border:"",data:t.contact.data,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"id",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row._id))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"时间",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"留言名称",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"留言内容","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.delCategory(e.row._id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.contact.limit,total:t.contact.total},on:{"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var J=a("vSla")(L,M,!1,function(t){a("912t"),a("1FwP")},"data-v-3e289c70",null).exports,B={layout:"admin",name:"about",data:function(){return{dialogImageUrl:"",dialogVisible:!1,formLabelWidth:"100px",form:{telephone:"",weixin:"",phone:"",desc:"",latitude:"19.619745",longitude:"110.76008",name:"康诚机电",address:"海南省文昌市海南省文昌市庆龄路23号",img:""},fileList:[]}},created:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/about",{},function(e){200===e.data.code?(e.data.data[0].banner&&(t.form.img=e.data.data[0].banner,t.fileList=[{name:e.data.data[0].img,url:e.data.data[0].url}]),t.form.desc=e.data.data[0].introduce,t.form.phone=e.data.data[0].phone,t.form.telephone=e.data.data[0].telephone,t.form.weixin=e.data.data[0].wechat,t.form.name=e.data.data[0].name,t.form.address=e.data.data[0].address):t.$message.error(e.data.msg)})},methods:{handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},onSubmit:function(){var t=this;console.log(this.form);var e=this.form;this.$api.post(this.$root.urlPath.MJK+"/about",{banner:e.img,introduce:e.desc,phone:e.phone||"",telephone:e.telephone||"",wechat:e.weixin,name:e.name,address:e.address},function(e){console.log(e),200===e.data.code?(t.$message({message:"修改成功",type:"success"}),t.$api.get(t.$root.urlPath.MJK+"/about",{},function(e){200===e.data.code?(e.data.data[0].banner&&(t.form.img=e.data.data[0].banner,t.fileList=[{name:e.data.data[0].img,url:e.data.data[0].url}]),t.form.desc=e.data.data[0].introduce,t.form.phone=e.data.data[0].phone,t.form.telephone=e.data.data[0].telephone,t.form.weixin=e.data.data[0].wechat,t.form.name=e.data.data[0].name,t.form.address=e.data.data[0].address):t.$message.error(e.data.msg)})):t.$message.error(e.data.msg)})},handleSuccess:function(t,e,a){console.log(t,e,a),200===t.code?(this.form.img=t.data.img,this.form.url=t.data.url):this.$message.error(t.msg)},handleError:function(t,e,a){console.log(t,e,a)},handleRemove:function(t,e){console.log(t,e),this.form.img=""}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"box"},[a("h2",[t._v("关于我们")]),t._v(" "),a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"顶部图片:","label-width":t.formLabelWidth}},[a("el-upload",{attrs:{action:"https://kc.hcode.xyz/api/upload","list-type":"picture-card","on-success":t.handleSuccess,"on-preview":t.handlePictureCardPreview,"on-error":t.handleError,"on-remove":t.handleRemove,"file-list":t.fileList,limit:1}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("el-form-item",{attrs:{label:"企业简介:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号码:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"电话号码:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入电话号码"},model:{value:t.form.telephone,callback:function(e){t.$set(t.form,"telephone",e)},expression:"form.telephone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"微信号:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入微信号"},model:{value:t.form.weixin,callback:function(e){t.$set(t.form,"weixin",e)},expression:"form.weixin"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"定位名称:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入定位名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"定位地址:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入定位地址"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"定位经度:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入定位经度"},model:{value:t.form.longitude,callback:function(e){t.$set(t.form,"longitude",e)},expression:"form.longitude"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"定位纬度:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入定位纬度"},model:{value:t.form.latitude,callback:function(e){t.$set(t.form,"latitude",e)},expression:"form.latitude"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var I=a("vSla")(B,E,!1,function(t){a("s06W")},"data-v-6261d527",null).exports,T={layout:"admin",name:"config",head:function(){return{title:"系统配置"}},data:function(){return{formLabelWidth:"150px",code:"",form:{name:"",password:"",rpassword:"",email:"",stmp_email:"",stmp_epassword:"",stmp:"",stmp_port:465,appid:"",appsecret:"",old_password:"",code:""}}},created:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/config",{},function(e){200===e.data.code?(t.form.name=e.data.data[0].name,t.form.email=e.data.data[0].email,t.form.stmp_email=e.data.data[0].stmp_email,t.form.stmp_epassword=e.data.data[0].stmp_epassword,t.form.stmp=e.data.data[0].stmp,t.form.stmp_port=e.data.data[0].stmp_port,t.form.appid=e.data.data[0].appid,t.form.appsecret=e.data.data[0].appsecret):t.$message.error(e.data.msg)}),this.getCode()},methods:{getCode:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/code",{code:Date.now()},function(e){console.log(e.data),200===e.data.code?t.code=e.data.data.img:t.$message.error(e.data.msg)})},onSubmit:function(){var t=this;console.log(this.form);var e=this.form,a={name:e.name,email:e.email,stmp_email:e.stmp_email,stmp_epassword:e.stmp_epassword,stmp:e.stmp,stmp_port:e.stmp_port,appid:e.appid,appsecret:e.appsecret,old_password:e.old_password,code:e.code};!e.password&&!e.rpassword||e.password===e.rpassword?e.old_password?e.code?(e.password&&e.rpassword&&e.password===e.rpassword&&(a.password=e.password),this.$api.post(this.$root.urlPath.MJK+"/config",a,function(e){console.log(e),200===e.data.code?(t.$message({message:"修改成功",type:"success"}),t.$api.get(t.$root.urlPath.MJK+"/config",{},function(e){200===e.data.code?(t.form.name=e.data.data[0].name,t.form.email=e.data.data[0].email,t.form.stmp_email=e.data.data[0].stmp_email,t.form.stmp_epassword=e.data.data[0].stmp_epassword,t.form.stmp=e.data.data[0].stmp,t.form.stmp_port=e.data.data[0].stmp_port,t.form.appid=e.data.data[0].appid,t.form.appsecret=e.data.data[0].appsecret,t.getCode()):(t.$message.error(e.data.msg),t.getCode())})):(t.$message.error(e.data.msg),t.getCode())})):this.$message.error("请输入验证码"):this.$message.error("请输入管理员密码"):this.$message.error("两次密码不一致")}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"box"},[a("h2",[t._v("系统配置")]),t._v(" "),a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"管理员账号:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入管理员账号"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"修改密码:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"password",placeholder:"请输入新密码(不修改则不填)"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"password",placeholder:"请确认密码(不修改则不填)"},model:{value:t.form.rpassword,callback:function(e){t.$set(t.form,"rpassword",e)},expression:"form.rpassword"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"管理员邮箱:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入管理员邮箱"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发件人邮箱:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入发件人邮箱"},model:{value:t.form.stmp_email,callback:function(e){t.$set(t.form,"stmp_email",e)},expression:"form.stmp_email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发件人邮箱密码:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入邮箱密码"},model:{value:t.form.stmp_epassword,callback:function(e){t.$set(t.form,"stmp_epassword",e)},expression:"form.stmp_epassword"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"STMP地址:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入STMP地址"},model:{value:t.form.stmp,callback:function(e){t.$set(t.form,"stmp",e)},expression:"form.stmp"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"STMP端口:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入STMP端口，默认465"},model:{value:t.form.stmp_port,callback:function(e){t.$set(t.form,"stmp_port",e)},expression:"form.stmp_port"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"AppId:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入AppId"},model:{value:t.form.appid,callback:function(e){t.$set(t.form,"appid",e)},expression:"form.appid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"AppSecret:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"AppSecret"},model:{value:t.form.appsecret,callback:function(e){t.$set(t.form,"appsecret",e)},expression:"form.appsecret"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"管理员密码:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入管理员密码",type:"password"},model:{value:t.form.old_password,callback:function(e){t.$set(t.form,"old_password",e)},expression:"form.old_password"}})],1),t._v(" "),a("el-form-item",{staticClass:"code",attrs:{label:"验证码:","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入验证码",append:t.code},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}}),t._v(" "),a("div",{staticClass:"get-code",domProps:{innerHTML:t._s(t.code)},on:{click:t.getCode}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var W=a("vSla")(T,K,!1,function(t){a("zV2g"),a("Xcos")},"data-v-04779f2a",null).exports,R=a("BMa3"),F=a.n(R),z={name:"admin",data:function(){return{isCollapse:!1,activeIndex1:"/",activeIndex2:null,isPhoneL:!1,isPhoneR:!1,asideIndex:null}},mounted:function(){var t=this;window.addEventListener("resize",function(){window.innerWidth<500?(t.isPhoneL=!0,t.isPhoneR=!0):(t.isPhoneL=!1,t.isPhoneR=!1)})},methods:{logout:function(){var t=this;this.$api.get(this.$root.urlPath.MJK+"/logout",{},function(e){200===e.data.code&&(t.$message({message:"退出成功",type:"success"}),setTimeout(function(){t.$router.push("/login")},1500))})},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},asideSelect:function(t,e){this.asideIndex=t,this.activeIndex1=null,this.activeIndex2=null},handleSelect:function(t,e){console.log(t,e),this.activeIndex1=t,this.activeIndex2=null,this.asideIndex=null},handleSelectRight:function(t,e){this.activeIndex2=t,this.activeIndex1=null,this.asideIndex=null}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{attrs:{direction:"vertical"}},[a("el-header",[a("i",{staticClass:"el-icon-menu isAside",on:{click:function(e){t.isPhoneL=!t.isPhoneL}}}),t._v(" "),a("div",{staticClass:"header-l"},[a("p",{staticClass:"logo"},[t._v("康诚机电 后台管理系统")]),t._v(" "),a("el-menu",{staticClass:"el-menu-demo topNav",attrs:{"default-active":t.activeIndex1,mode:"horizontal",router:"","background-color":"#23262E","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"/"}},[t._v("首页")])],1)],1),t._v(" "),a("i",{staticClass:"el-icon-more",on:{click:function(e){t.isPhoneR=!t.isPhoneR}}}),t._v(" "),t.isPhoneR?t._e():a("el-menu",{staticClass:"el-menu-demo",attrs:{id:"header-r","default-active":t.activeIndex2,mode:"horizontal","background-color":"#23262E","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelectRight}},[a("el-menu-item",{attrs:{index:"1"}},[t._v("admin")]),t._v(" "),a("el-menu-item",{attrs:{index:"2"}},[t._v("前台")]),t._v(" "),a("el-menu-item",{attrs:{index:"3"},on:{click:t.logout}},[t._v("退出")])],1)],1),t._v(" "),a("el-container",[t.isPhoneL?t._e():a("el-aside",{staticClass:"aside",attrs:{width:"auto"}},[a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:t.isCollapse,router:"","default-active":t.asideIndex,"background-color":"#393D49","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:t.handleOpen,close:t.handleClose,select:t.asideSelect}},[a("el-menu-item",{attrs:{index:"/category"}},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("分类管理")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/goods"}},[a("i",{staticClass:"el-icon-goods"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("商品管理")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/swiper"}},[a("i",{staticClass:"el-icon-more-outline"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("轮播管理")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/contact"}},[a("i",{staticClass:"el-icon-message"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("留言列表")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/about"}},[a("i",{staticClass:"el-icon-info"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("关于我们")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/config"}},[a("i",{staticClass:"el-icon-setting"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("系统配置")])]),t._v(" "),a("el-menu-item",{attrs:{index:"-1",route:"#"},on:{click:function(e){t.isCollapse=!t.isCollapse}}},[t.isCollapse?a("i",{staticClass:"el-icon-caret-right"}):a("i",{staticClass:"el-icon-caret-left"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("收起菜单")])])],1)],1)],1),t._v(" "),a("el-container",{attrs:{direction:"vertical"}},[a("el-main",[a("router-view")],1),t._v(" "),a("el-footer",[a("p",[t._v("© 2018 "),a("a",{attrs:{href:"/"}},[t._v("康诚机电")]),t._v(" - Powered by "),a("a",{attrs:{target:"_blank",href:"https://github.com/hlbj105/kc"}},[t._v("Jason")])])])],1)],1)],1)},staticRenderFns:[]};var U=a("vSla")(z,D,!1,function(t){a("yGR+")},"data-v-a02d1122",null).exports;s.default.use(n.a);var A=new n.a({routes:[{path:"/",component:U,children:[{path:"/",component:p},{path:"/category",component:b},{path:"/goods",component:C},{path:"/swiper",component:P},{path:"/contact",component:J},{path:"/about",component:I},{path:"/config",component:W}]},{path:"/login",name:"login",component:m}]}),O=F.a.create({withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},transformRequest:[function(t){var e="";for(var a in t)!0===t.hasOwnProperty(a)&&(e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&");return e}]});function q(t,e,a,o){O({method:t,url:e,data:"POST"===t||"PUT"===t?a:null,params:"GET"===t||"DELETE"===t?a:null}).then(function(t){o(t)}).catch(function(t){o(t)})}var V={get:function(t,e,a){return q("GET",t,e,a)},post:function(t,e,a){return q("POST",t,e,a)},put:function(t,e,a){return q("PUT",t,e,a)},delete:function(t,e,a){return q("DELETE",t,e,a)}},j=function(){return{MJK:"https://kc.hcode.xyz/api",WEB_URL:{WEB_MIAO:"https://kc.hcode.xyz"}}};s.default.use(r.a),A.beforeEach(function(t,e,a){console.log(t),console.log(e),"/login"!=t.path?(console.log(""),1==localStorage.getItem("login")?a():a("/login")):a()}),s.default.config.productionTip=!1,s.default.prototype.$api=V,new s.default({el:"#app",router:A,components:{App:l},template:"<App/>",data:{urlPath:j()}})},UhgQ:function(t,e){},Xcos:function(t,e){},lMgl:function(t,e){},s06W:function(t,e){},uC7J:function(t,e){},"yGR+":function(t,e){},zV2g:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0570605dd9e9f47e6efe.js.map