{"version":3,"sources":["webpack:///webpack/bootstrap 6d81d0af55a1ee96ad34","webpack:///external \"express\"","webpack:///external \"formidable\"","webpack:///./server/model/db.js","webpack:///external \"mongoose\"","webpack:///./server/index.js","webpack:///external \"nuxt\"","webpack:///./server/api/index.js","webpack:///./server/api/info.js","webpack:///external \"os\"","webpack:///./server/model/timeStamp.js","webpack:///./server/api/users.js","webpack:///./server/api/category.js","webpack:///./server/api/goods.js","webpack:///external \"moment\"","webpack:///./server/model/upload.js","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///./nuxt.config.js","webpack:///./server/api/swiper.js"],"names":["mongoose","require","CategorieSchema","Schema","String","Number","type","Date","default","now","timestamps","createdAt","updatedAt","index","statics","fetch","id","limit","cb","find","sort","exec","GoodsSchema","Array","SwiperSchema","n_categorie","model","n_goods","n_swiper","exports","app","express","host","process","env","HOST","port","PORT","set","connect","db","connection","once","callback","console","log","use","static","config","dev","nuxt","builder","build","render","listen","router","Router","os","timeStamp","get","req","res","next","info","arch","cpus","endianness","freemem","Math","round","homedir","hostname","networkInterfaces","platform","release","version","tmpdir","totalmem","uptime","ddhhmm","json","code","msg","data","second_time","time","parseInt","second","min","hour","day","users","name","params","length","sendStatus","formidable","query","current_page","count","err","total","result","len","results","categorieNumber","i","_id","result1","goods_num","img","category","post","form","IncomingForm","parse","fields","files","update","$set","save","delete","ids","remove","moment","locale","categoryId","skip","list","tempJson","forEach","v","createTime","format","content","hot","updateTime","__v","put","fs","module","uploadDir","keepExtensions","maxFieldsSize","date","y","getFullYear","m","getMonth","t","getTime","oldPath","file","path","newPath","existsSync","mkdirSync","rename","renameSync","url","headers","origin","head","title","meta","charset","hid","link","rel","href","css","vendor","extend","ctx","isClient","rules","push","enforce","test","loader","exclude","styleResources","scss","less","options","vender","babel","comments","plugins","src","ssr"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6d81d0af55a1ee96ad34","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"formidable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"formidable\"\n// module id = 1\n// module chunks = 0","const mongoose = require('mongoose')\n\n// 分类\nlet CategorieSchema = new mongoose.Schema({\n  'name': String,\n  'img': String,\n  'goods_num': Number,\n  'createTime': {\n    type: Date,\n    default: Date.now\n  },\n  'updateTime': {\n    type: Date,\n    default: Date.now\n  }\n}, {timestamps: { createdAt: 'createTime', updatedAt: 'updateTime' }})\nCategorieSchema.index({'name': 1})\n\n// 分页\nCategorieSchema.statics = {\n  fetch (id, limit, cb) {\n    if (id) {\n      return this.find({'_id': {'$lt': id}})\n        .limit(limit)\n        .sort({'_id': -1})\n        .exec(cb)\n    } else {\n      return this.find({})\n        .limit(limit)\n        .sort({'_id': -1})\n        .exec(cb)\n    }\n  }\n}\n\n// 商品\nlet GoodsSchema = new mongoose.Schema({\n  'name': String,\n  'img': Array,\n  'hot': Number,\n  'content': String,\n  'categoryId': String,\n  'createTime': {\n    type: Date,\n    default: Date.now\n  },\n  'updateTime': {\n    type: Date,\n    default: Date.now\n  }\n}, {timestamps: { createdAt: 'createTime', updatedAt: 'updateTime' }})\nGoodsSchema.index({'name': 1, 'categoryId': 1})\n\n// 轮播\nlet SwiperSchema = new mongoose.Schema({\n  'name': String,\n  'img': String,\n  'createTime': {\n    type: Date,\n    default: Date.now\n  },\n  'updateTime': {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: {\n    createdAt: 'createTime',\n    updatedAt: 'updateTime'\n  }\n})\n// model\nlet n_categorie = mongoose.model('n_categorie', CategorieSchema)\nlet n_goods = mongoose.model('n_goods', GoodsSchema)\nlet n_swiper = mongoose.model('n_swiper', SwiperSchema)\n\nexports.n_categorie = n_categorie\nexports.n_goods = n_goods\nexports.n_swiper = n_swiper\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/db.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 3\n// module chunks = 0","import express from 'express'\nimport { Nuxt, Builder } from 'nuxt'\nimport api from './api'\nimport path from 'path'\n\nconst app = express()\n\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || 3000\n\napp.set('port', port)\n\n// 连接数据库\nconst mongoose = require('mongoose');\nmongoose.connect('mongodb://localhost:27017/nanadmin');\nconst db = mongoose.connection;\ndb.once('open', function (callback) {\n  console.log(\"数据库成功打开\");\n});\n\napp.use('/uploads',express.static('uploads')); // 上传文件目录\n// Import API Routes\napp.use('/api', api)\n\n// Import and Set Nuxt.js options\nlet config = require('../nuxt.config.js')\nconfig.dev = !(process.env.NODE_ENV === 'production')\n\n// Init Nuxt.js\nconst nuxt = new Nuxt(config)\n\n// Build only in dev mode\nif (config.dev) {\n  const builder = new Builder(nuxt)\n  builder.build()\n}\n\n// Give nuxt middleware to express\n\napp.use(nuxt.render)\n\n// Listen the server\napp.listen(port, host)\nconsole.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 5\n// module chunks = 0","import { Router } from 'express'\n\nimport info from './info'\nimport users from './users'\nimport categorys from './category'\nimport goods from  './goods'\nimport swiper from  './swiper'\nimport upload from '../model/upload'\nconst router = Router()\n\n// Add USERS Routes\nrouter.use(info) // 首页信息\nrouter.use(users)\nrouter.use(categorys) // 分类\nrouter.use(goods) // 商品\nrouter.use(swiper) // 轮播\nrouter.use('/upload', upload)\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/index.js","import { Router } from 'express'\nconst router = Router()\nconst os = require('os')\nconst timeStamp = require('../model/timeStamp.js')\n/* GET info. */\nrouter.get('/info', function (req, res, next) {\n  let info = {\n    arch: os.arch(), // 获取cpu(处理器架构)\n    cpus: os.cpus(), // 获取cpu信息\n    endianness: os.endianness(), // 字节顺序 高位优先返回BE,低位优先的返回LE\n    freemem: Math.round(os.freemem() / 1048576), // 空闲内存字节\n    homedir: os.homedir(), // 当前登录用户的根目录\n    hostname: os.hostname(), // 操作系统主机名\n    networkInterfaces: os.networkInterfaces(), // 网络配置列表\n    platform: os.platform(), // 操作系统类型,返回值有'darwin', 'freebsd', 'linux', 'sunos' , 'win32'\n    release: process.version, // node版本\n    tmpdir: os.tmpdir(), // 操作系统临时文件的默认目录\n    totalmem: Math.round(os.totalmem() / 1048576), // 系统总内存\n    uptime: timeStamp.ddhhmm(os.uptime()) // 计算机正常运行时间\n  }\n  res.json({code: 200, msg: '获取成功', data: info})\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/info.js","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 8\n// module chunks = 0","exports.ddhhmm = function (second_time) {\n  let time = parseInt(second_time) + '秒'\n  if (parseInt(second_time) > 60) {\n    let second = parseInt(second_time) % 60\n    let min = parseInt(second_time / 60)\n    // time = min + \"分钟\" + second + \"秒\";\n    time = min + '分钟'\n\n    if (min > 60) {\n      min = parseInt(second_time / 60) % 60\n      let hour = parseInt(parseInt(second_time / 60) / 60)\n      // time = hour + \"小时\" + min + \"分\" + second + \"秒\";\n      time = hour + '小时' + min + '分钟'\n\n      if (hour > 24) {\n        hour = parseInt(parseInt(second_time / 60) / 60) % 24\n        let day = parseInt(parseInt(parseInt(second_time / 60) / 60) / 24)\n        // time = day + \"天\" + hour + \"小时\" + min + \"分\" + second + \"秒\";\n        time = day + '天' + hour + '小时' + min + '分钟'\n      }\n    }\n  }\n  return time\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/timeStamp.js","import { Router } from 'express'\n\nconst router = Router()\n\n// Mock Users\nconst users = [\n  { name: 'Alexandre' },\n  { name: 'Pooya' },\n  { name: 'Sébastien' },\n]\n\n/* GET users listing. */\nrouter.get('/users', function (req, res, next) {\n  res.json(users)\n})\n\n/* GET user by ID. */\nrouter.get('/users/:id', function (req, res, next) {\n  const id = parseInt(req.params.id)\n  if (id >= 0 && id < users.length) {\n    res.json(users[id])\n  } else {\n    res.sendStatus(404)\n  }\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/users.js","import { Router } from 'express'\nconst formidable = require('formidable')\n\nconst router = Router()\nconst db = require('../model/db.js')\n\n/* 后台分类列表 listing. */\nrouter.get('/category', function (req, res, next) {\n  let limit = req.query.limit || 10\n  let current_page = req.query.current_page || 1\n  current_page -= 1\n  let data = {}\n  // 获取分类数量\n  db.n_categorie.find().count().exec((err, count) => {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    data.total = count\n    data.limit = limit\n\n    // 获取分类列表\n    db.n_categorie.find().sort({'_id': -1}).exec((err, result) => {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      // console.log(result)\n      if (result.length === 0) {\n        res.json({code: 400, data: '没有数据', msg: '没有数据'})\n        return\n      }\n      let len = result.length - 1\n      let results = result\n\n      // 获取分类商品条数\n      categorieNumber(len)\n      function categorieNumber (i) {\n        db.n_goods.find({'categoryId': result[i]._id}, function (err, result1) {\n          if (err) {\n            res.json({code: 500, data: err, msg: '服务器错误'})\n            return\n          }\n          results[i].goods_num = result1.length\n          results[i].img = '../' + results[i].img\n          if (i != 0) {\n            i--\n            categorieNumber(i)\n          } else {\n            data.category = results\n            data.current_page = current_page + 1\n            res.json({code: 200, data: data, msg: '获取列表成功'})\n          }\n        })\n      }\n    })\n  })\n\n})\n\n// 添加、编辑分类\nrouter.post('/addCategory', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.name) {\n      res.json({code: 400, data: 'name参数缺少', msg: 'name参数缺少'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: 'img参数缺少', msg: 'img参数缺少'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    if (fields.id) {\n      let id = fields.id\n      // 更新分类\n      db.n_categorie.update({ '_id': id }, {$set: {'name': name, 'img': img}}, function (err, result) {\n        if (err) {\n          res.json({code: 500, data: err, msg: '服务器错误'})\n          return\n        }\n        // console.log(result)\n        res.json({code: 200, data: '修改成功', msg: '修改成功'})\n      })\n    } else {\n      // 判断分类名是否重复\n      db.n_categorie.find({'name': name}, function (err, result) {\n        if (err) {\n          res.json({code: 500, data: err, msg: '服务器错误'})\n          return\n        }\n        if (result.length > 0) {\n          res.json({code: 400, data: '分类名已存在', msg: '分类名已存在'})\n          return\n        }\n        // 创建分类\n        new db.n_categorie({'name': name, 'img': img}).save(function (err) {\n          if (err) {\n            res.json({code: 500, data: err, msg: '服务器错误'})\n            return\n          }\n          res.json({code: 200, msg: '添加分类成功', data: '添加分类成功'});\n        })\n      })\n    }\n  })\n})\n\n// 删除分类\nrouter.delete('/delCategory', function (req, res, next) {\n  if (!req.query.id) {\n    res.json({code: 400, data: '参数缺少: id', msg: '参数缺少: id'})\n    return\n  }\n  let ids = req.query.id\n  for (let i of ids) {\n    db.n_categorie.remove({'_id': i}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n    })\n  }\n  res.json({code: 200, data: '删除成功', msg: '删除成功'})\n})\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/category.js","import { Router } from 'express'\nconst formidable = require('formidable')\nconst moment = require('moment')\nmoment.locale('zh-cn')\nconst router = Router()\nconst db = require('../model/db.js')\n\n// 商品查询\nrouter.get('/goods', function (req, res, next) {\n  let limit = req.query.limit || 10\n  let current_page = req.query.current_page || 1\n  let categoryId = {}\n  if (req.query.categoryId) {\n    categoryId['categoryId'] = req.query.categoryId\n  }\n  current_page -= 1\n  let data = {}\n  // 查询总数\n  db.n_goods.find(categoryId).count().exec((err, count) => {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    data.total = count\n    data.limit = limit\n    // 获取列表\n    db.n_goods.find(categoryId).sort({'_id': -1}).skip(current_page * limit).limit(limit).exec((err, result) => {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      if (result.length === 0) {\n        res.json({code: 400, data: '没有数据', msg: '没有数据'})\n        return\n      }\n      let list = []\n      let tempJson = {}\n      result.forEach((v, i) => {\n        tempJson = {}\n        tempJson['createTime'] = moment(result[i].createTime).format('YYYY-MM-DD HH:mm:ss')\n        tempJson['_id'] = result[i]._id\n        tempJson['name'] = result[i].name\n        tempJson['img'] = result[i].img\n        tempJson['content'] = result[i].content\n        tempJson['hot'] = result[i].hot\n        tempJson['categoryId'] = result[i].categoryId\n        tempJson['updateTime'] = result[i].updateTime\n        tempJson['__v'] = result[i].__v\n        list[i] = tempJson\n      })\n      data.current_page = current_page + 1\n      data.data = list\n      res.json({code: 200, data: data, msg: '获取商品列表成功'})\n\n    })\n  })\n})\n\n// 添加商品\nrouter.post('/goods', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.name) {\n      res.json({code: 400, data: '缺少参数:name', msg: '缺少参数:name'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: '缺少参数:img', msg: '缺少参数:img'})\n      return\n    }\n    if(!fields.content) {\n      res.json({code: 400, data: '缺少参数:content', msg: '缺少参数:content'})\n      return\n    }\n    if(!fields.categoryId) {\n      res.json({code: 400, data: '缺少参数:categoryId', msg: '缺少参数:categoryId'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    let content = fields.content\n    let categoryId = fields.categoryId\n    // 验证名字是否一样\n    db.n_goods.find({'name': name}).count().exec((err, count)=>{\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      if (count !== 0) {\n        res.json({code: 400, data: '商品名称重复', msg: '商品名称重复'})\n        return\n      }\n      // 创建商品\n      new db.n_goods({'name': name, 'img': img, 'content': content, 'hot': 0, 'categoryId': categoryId}).save(function (err) {\n        if (err) {\n          res.json({code: 500, data: err, msg: '服务器错误'})\n          return\n        }\n        res.json({code: 200, msg: '添加商品成功', data: '添加商品成功'})\n      })\n    })\n  })\n})\n\n// 修改商品\nrouter.put('/goods', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.id) {\n      res.json({code: 400, data: '缺少参数:id', msg: '缺少参数:id'})\n      return\n    }\n    if (!fields.name) {\n      res.json({code: 400, data: '缺少参数:name', msg: '缺少参数:name'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: '缺少参数:img', msg: '缺少参数:img'})\n      return\n    }\n    if(!fields.content) {\n      res.json({code: 400, data: '缺少参数:content', msg: '缺少参数:content'})\n      return\n    }\n    if(!fields.categoryId) {\n      res.json({code: 400, data: '缺少参数:categoryId', msg: '缺少参数:categoryId'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    let content = fields.content\n    let categoryId = fields.categoryId\n    let id = fields.id\n    db.n_goods.update({ '_id': id }, {$set: {'name': name, 'img': img, 'content': content, 'categoryId': categoryId}}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      // console.log(result)\n      res.json({code: 200, data: '修改成功', msg: '修改成功'})\n    })\n  })\n})\n\n// 删除商品\nrouter.delete('/goods', function (req, res, next) {\n  if (!req.query.id) {\n    res.json({code: 400, data: '参数缺少: id', msg: '参数缺少: id'})\n    return\n  }\n  let ids = req.query.id\n  for (let i of ids) {\n    db.n_goods.remove({'_id': i}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n    })\n  }\n  res.json({code: 200, data: '删除成功', msg: '删除成功'})\n})\n\n// 获取商品详情\nrouter.get('/goods/detail', function (req, res, next) {\n  let id = req.query.id\n  if (!id) {\n    res.json({code: 400, data: '缺少参数:id', msg: '缺少参数:id'})\n    return\n  }\n  db.n_goods.find({'_id': id}, function (err, result) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    res.json({code: 200, data: result, msg: '商品详情获取成功'})\n  })\n})\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/goods.js","module.exports = require(\"moment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 13\n// module chunks = 0","const formidable = require('formidable')\nconst fs = require('fs')\n\nmodule.exports = function (req, res, next) {\n\n  let form = new formidable.IncomingForm()\n  form.uploadDir = 'uploads'\n  form.keepExtensions = true // 保留后缀\n  form.maxFieldsSize = 2 * 1024 * 1024 // 文件大小\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 400, data: err, msg: err})\n      return\n    }\n    let date = new Date()\n    let y = date.getFullYear()\n    let m = date.getMonth() + 1\n    let t = date.getTime()\n    let oldPath = files.file.path // 原始文件\n    let type = /\\.[^\\.]+$/.exec(oldPath)[0] // 获取文件后缀名\n    let newPath = 'uploads/' + y + '/' + m + '/' + t + type\n\n    // 判断目录是否存在，不存在就新建\n    if (!fs.existsSync('uploads/' + y)) {\n      fs.mkdirSync('uploads/' + y)\n    }\n    if (!fs.existsSync('uploads/' + y + '/' + m)) {\n      fs.mkdirSync('uploads/' + y + '/' + m)\n    }\n    // 移动，重命名文件\n    let rename = fs.renameSync(oldPath, newPath)\n    if (!rename) {\n      res.json({code: 200, msg: '文件上传成功', data: {'img': newPath, url: req.headers.origin + '/' + newPath}})\n    } else {\n      res.json({code: 400, msg: '文件上传失败', data: '文件上传失败'})\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/upload.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 16\n// module chunks = 0","module.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: '康诚机电',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0' },\n      { hid: 'description', name: 'description', content: '康诚机电' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  /*\n  ** Global CSS\n  */\n  css: [\n    '~/assets/css/main.css',\n    'element-ui/lib/theme-chalk/index.css',\n    'quill/dist/quill.snow.css',\n    'quill/dist/quill.bubble.css',\n    'quill/dist/quill.core.css'\n  ],\n  /*\n  ** Add axios globally\n  */\n  build: {\n    vendor: ['axios'],\n    /*\n    ** Run ESLINT on save\n    */\n    extend (config, ctx) {\n      if (ctx.isClient) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  },\n\n  styleResources: {\n    scss: ' ./ assets / variables.scss ',\n    less: ' ./assets /* . less ',\n    // sass：...，\n    // scss：...\n    options : {\n      //参见https://github.com/yenshih/style-resources-loader#options\n      //除`patterns`属性外\n    }\n  },\n\n  vender:[\n    'element-ui'\n  ],\n  babel:{\n    \"plugins\": [[\"component\", [\n      {\n        \"libraryName\": \"element-ui\",\n        \"styleLibraryName\": \"theme-default\"\n      },\n      'transform-async-to-generator',\n      'transform-runtime'\n    ]]],\n    comments: true\n  },\n  plugins: [\n    { src: '~plugins/element-ui', ssr: true },\n    { src: '~plugins/nuxt-quill-plugin.js', ssr: false }\n  ],\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import { Router } from 'express'\nconst formidable = require('formidable')\nconst router = Router()\nconst db = require('../model/db.js')\n\n// 获取轮播列表\nrouter.get('/swiper', function (req, res, next) {\n  db.n_swiper.find().sort({'_id': -1}).exec((err, result) => {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    let list = []\n    let tempJson = {}\n    result.forEach((v, i) => {\n      tempJson = {}\n      tempJson['url'] = 'http://' + req.headers.host + '/' + result[i].img\n      tempJson['img'] = '../' + result[i].img\n      tempJson['name'] = result[i].name\n      tempJson['updateTime'] = result[i].updateTime\n      tempJson['createTime'] = result[i].createTime\n      tempJson['__v'] = result[i].__v\n      tempJson['_id'] = result[i]._id\n      list[i] = tempJson\n    })\n\n    res.json({code: 200, data: list, msg: '获取轮播成功'})\n  })\n})\n\n// 添加轮播\nrouter.post('/swiper', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.name) {\n      res.json({code: 400, data: 'name参数缺少', msg: 'name参数缺少'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: 'img参数缺少', msg: 'img参数缺少'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    new db.n_swiper({'name': name, 'img': img}).save(function (err) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      res.json({code: 200, msg: '添加轮播成功', data: '添加轮播成功'})\n    })\n  })\n})\n\n// 修改轮播\nrouter.put('/swiper', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.id) {\n      res.json({code: 400, data: '缺少参数:id', msg: '缺少参数:id'})\n      return\n    }\n    if (!fields.name) {\n      res.json({code: 400, data: '缺少参数:name', msg: '缺少参数:name'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: '缺少参数:img', msg: '缺少参数:img'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    let id = fields.id\n    db.n_swiper.update({ '_id': id }, {$set: {'name': name, 'img': img}}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      // console.log(result)\n      res.json({code: 200, data: '修改成功', msg: '修改成功'})\n    })\n  })\n})\n\nrouter.delete('/swiper', function (req, res, next) {\n  if (!req.query.id) {\n    res.json({code: 400, data: '参数缺少: id', msg: '参数缺少: id'})\n    return\n  }\n  let ids = req.query.id\n  for (let i of ids) {\n    db.n_swiper.remove({'_id': i}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n    })\n  }\n  res.json({code: 200, data: '删除成功', msg: '删除成功'})\n})\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/swiper.js"],"sourceRoot":""}