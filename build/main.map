{"version":3,"sources":["webpack:///webpack/bootstrap b52e4af1fcee9c8bb673","webpack:///external \"express\"","webpack:///external \"formidable\"","webpack:///./server/model/db.js","webpack:///external \"mongoose\"","webpack:///./server/index.js","webpack:///external \"nuxt\"","webpack:///./server/api/index.js","webpack:///./server/api/info.js","webpack:///external \"os\"","webpack:///./server/model/timeStamp.js","webpack:///./server/api/users.js","webpack:///./server/api/category.js","webpack:///./server/api/goods.js","webpack:///external \"moment\"","webpack:///./server/api/swiper.js","webpack:///./server/model/upload.js","webpack:///external \"fs\"","webpack:///./server/api/about.js","webpack:///./server/api/config.js","webpack:///./server/model/md5.js","webpack:///external \"crypto\"","webpack:///./server/api/code.js","webpack:///./server/model/svgCaptcha.js","webpack:///external \"svg-captcha\"","webpack:///external \"path\"","webpack:///external \"express-session\"","webpack:///./nuxt.config.js","webpack:///./server/api/login.js"],"names":["mongoose","require","CategorieSchema","Schema","String","Number","type","Date","default","now","timestamps","createdAt","updatedAt","index","statics","fetch","id","limit","cb","find","sort","exec","GoodsSchema","Array","SwiperSchema","AboutSchema","ConfigSchema","n_categorie","model","n_goods","n_swiper","n_about","n_config","exports","app","express","session","host","process","env","HOST","port","PORT","set","connect","db","connection","once","callback","console","log","use","static","name","secret","resave","saveUninitialized","cookie","maxAge","req","res","next","path","login","redirect","config","dev","nuxt","builder","build","render","listen","router","Router","os","timeStamp","get","info","arch","cpus","endianness","freemem","Math","round","homedir","hostname","networkInterfaces","platform","release","version","tmpdir","totalmem","uptime","ddhhmm","json","code","msg","data","second_time","time","parseInt","second","min","hour","day","users","params","length","sendStatus","formidable","query","current_page","count","err","total","result","len","results","categorieNumber","i","_id","result1","goods_num","img","category","post","form","IncomingForm","parse","fields","files","update","$set","save","delete","ids","remove","moment","locale","categoryId","skip","list","tempJson","forEach","v","createTime","format","content","hot","updateTime","__v","put","headers","fs","module","uploadDir","keepExtensions","maxFieldsSize","date","y","getFullYear","m","getMonth","t","getTime","oldPath","file","newPath","existsSync","mkdirSync","rename","renameSync","url","origin","banner","introduce","phone","telephone","wechat","address","md5","old_password","toLowerCase","captcha","password","email","stmp_email","stmp_epassword","stmp","stmp_port","appid","appsecret","crypto","pwd","e","createHash","digest","getCode","svgCaptcha","codeConfig","size","ignoreChars","noise","height","create","sessionCaptcha","text","codeData","head","title","meta","charset","hid","link","rel","href","css","vendor","extend","ctx","isClient","rules","push","enforce","test","loader","exclude","styleResources","scss","less","options","vender","babel","comments","plugins","src","ssr"],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,oC;;;;;;ACAA,uC;;;;;;ACAA,IAAMA,WAAW,mBAAAC,CAAQ,CAAR,CAAjB;;AAEA;AACA,IAAIC,kBAAkB,IAAIF,SAASG,MAAb,CAAoB;AACxC,UAAQC,MADgC;AAExC,SAAOA,MAFiC;AAGxC,eAAaC,MAH2B;AAIxC,gBAAc;AACZC,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF,GAJ0B;AAQxC,gBAAc;AACZH,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF;AAR0B,CAApB,EAYnB,EAACC,YAAY,EAAEC,WAAW,YAAb,EAA2BC,WAAW,YAAtC,EAAb,EAZmB,CAAtB;AAaAV,gBAAgBW,KAAhB,CAAsB,EAAC,QAAQ,CAAT,EAAtB;;AAEA;AACAX,gBAAgBY,OAAhB,GAA0B;AACxBC,OADwB,iBACjBC,EADiB,EACbC,KADa,EACNC,EADM,EACF;AACpB,QAAIF,EAAJ,EAAQ;AACN,aAAO,KAAKG,IAAL,CAAU,EAAC,OAAO,EAAC,OAAOH,EAAR,EAAR,EAAV,EACJC,KADI,CACEA,KADF,EAEJG,IAFI,CAEC,EAAC,OAAO,CAAC,CAAT,EAFD,EAGJC,IAHI,CAGCH,EAHD,CAAP;AAID,KALD,MAKO;AACL,aAAO,KAAKC,IAAL,CAAU,EAAV,EACJF,KADI,CACEA,KADF,EAEJG,IAFI,CAEC,EAAC,OAAO,CAAC,CAAT,EAFD,EAGJC,IAHI,CAGCH,EAHD,CAAP;AAID;AACF;AAbuB,CAA1B;;AAgBA;AACA,IAAII,cAAc,IAAItB,SAASG,MAAb,CAAoB;AACpC,UAAQC,MAD4B;AAEpC,SAAOmB,KAF6B;AAGpC,SAAOlB,MAH6B;AAIpC,aAAWD,MAJyB;AAKpC,gBAAcA,MALsB;AAMpC,gBAAc;AACZE,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF,GANsB;AAUpC,gBAAc;AACZH,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF;AAVsB,CAApB,EAcf,EAACC,YAAY,EAAEC,WAAW,YAAb,EAA2BC,WAAW,YAAtC,EAAb,EAde,CAAlB;AAeAU,YAAYT,KAAZ,CAAkB,EAAC,QAAQ,CAAT,EAAY,cAAc,CAA1B,EAAlB;;AAEA;AACA,IAAIW,eAAe,IAAIxB,SAASG,MAAb,CAAoB;AACrC,UAAQC,MAD6B;AAErC,SAAOA,MAF8B;AAGrC,gBAAc;AACZE,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF,GAHuB;AAOrC,gBAAc;AACZH,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF;AAPuB,CAApB,EAWhB;AACDC,cAAY;AACVC,eAAW,YADD;AAEVC,eAAW;AAFD;AADX,CAXgB,CAAnB;;AAkBA;AACA,IAAIa,cAAc,IAAIzB,SAASG,MAAb,CAAoB;AACpC,YAAUC,MAD0B;AAEpC,eAAaA,MAFuB;AAGpC,WAASC,MAH2B;AAIpC,eAAaA,MAJuB;AAKpC,YAAUD,MAL0B;AAMpC,UAAQA,MAN4B;AAOpC,aAAWA,MAPyB;AAQpC,eAAaC,MARuB;AASpC,cAAYA,MATwB;AAUpC,gBAAc;AACZC,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF,GAVsB;AAcpC,gBAAc;AACZH,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF;AAdsB,CAApB,EAkBf;AACDC,cAAY;AACVC,eAAW,YADD;AAEVC,eAAW;AAFD;AADX,CAlBe,CAAlB;;AAyBA;AACA,IAAIc,eAAe,IAAI1B,SAASG,MAAb,CAAoB;AACrC,UAAQC,MAD6B;AAErC,cAAYA,MAFyB;AAGrC,WAASC,MAH4B;AAIrC,eAAaD,MAJwB;AAKrC,WAASA,MAL4B;AAMrC,gBAAcA,MANuB;AAOrC,oBAAkBA,MAPmB;AAQrC,UAAQA,MAR6B;AASrC,eAAaC,MATwB;AAUrC,WAASD,MAV4B;AAWrC,eAAaA,MAXwB;AAYrC,gBAAc;AACZE,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF,GAZuB;AAgBrC,gBAAc;AACZH,UAAMC,IADM;AAEZC,aAASD,KAAKE;AAFF;AAhBuB,CAApB,EAoBhB;AACDC,cAAY;AACVC,eAAW,YADD;AAEVC,eAAW;AAFD;AADX,CApBgB,CAAnB;AA0BA;AACA,IAAIe,cAAc3B,SAAS4B,KAAT,CAAe,aAAf,EAA8B1B,eAA9B,CAAlB;AACA,IAAI2B,UAAU7B,SAAS4B,KAAT,CAAe,SAAf,EAA0BN,WAA1B,CAAd;AACA,IAAIQ,WAAW9B,SAAS4B,KAAT,CAAe,UAAf,EAA2BJ,YAA3B,CAAf;AACA,IAAIO,UAAU/B,SAAS4B,KAAT,CAAe,SAAf,EAA0BH,WAA1B,CAAd;AACA,IAAIO,WAAWhC,SAAS4B,KAAT,CAAe,UAAf,EAA2BF,YAA3B,CAAf;;AAGAO,QAAQN,WAAR,GAAsBA,WAAtB;AACAM,QAAQJ,OAAR,GAAkBA,OAAlB;AACAI,QAAQH,QAAR,GAAmBA,QAAnB;AACAG,QAAQF,OAAR,GAAkBA,OAAlB;AACAE,QAAQD,QAAR,GAAmBA,QAAnB,C;;;;;;ACzIA,qC;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA,IAAME,MAAM,+CAAAC,EAAZ;AACA,IAAMC,UAAU,mBAAAnC,CAAQ,EAAR,CAAhB;AACA,IAAMoC,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,WAAjC;AACA,IAAMC,OAAOH,QAAQC,GAAR,CAAYG,IAAZ,IAAoB,IAAjC;AACAR,IAAIS,GAAJ,CAAQ,MAAR,EAAgBF,IAAhB;;AAEA;AACA,IAAMzC,WAAW,mBAAAC,CAAQ,CAAR,CAAjB;AACAD,SAAS4C,OAAT,CAAiB,oCAAjB;AACA,IAAMC,KAAK7C,SAAS8C,UAApB;AACAD,GAAGE,IAAH,CAAQ,MAAR,EAAgB,UAAUC,QAAV,EAAoB;AAClCC,YAAQC,GAAR,CAAY,SAAZ;AACD,CAFD;;AAIA;AACAhB,IAAIiB,GAAJ,CAAQ,UAAR,EAAmB,+CAAAhB,CAAQiB,MAAR,CAAe,SAAf,CAAnB,E,CAA+C;;AAE/C;AACAlB,IAAIiB,GAAJ,CAAQf,QAAQ;AACZiB,UAAM,oBADM,EACgB;AAC5BC,YAAQ,uBAFI,EAEqB;AACjCC,YAAQ,IAHI,EAGE;AACdC,uBAAmB,KAJP,EAIc;AAC1BC,YAAQ;AACJC,gBAAQ,SADJ,CACa;;AAErB;AACA;AACA;AALQ,KALI,EAAR,CAAR;AAYA;AACAxB,IAAIiB,GAAJ,CAAQ,QAAR,EAAkB,UAAUQ,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC3C,QAAIF,IAAIG,IAAJ,IAAY,QAAhB,EAA0B;AACnBD;AACA;AACH;AACD,QAAGF,IAAIvB,OAAJ,CAAY2B,KAAZ,IAAqB,CAAxB,EAA0B;AACtBH,YAAII,QAAJ,CAAa,cAAb;AACA;AACH;AACDH;AACH,CAVD;AAWA;AACA3B,IAAIiB,GAAJ,CAAQ,MAAR,EAAgB,qDAAhB;;AAEA;AACA,IAAIc,SAAS,mBAAAhE,CAAQ,EAAR,CAAb;AACAgE,OAAOC,GAAP,GAAa,EAAE,kBAAyB,YAA3B,CAAb;;AAEA;AACA,IAAMC,OAAO,IAAI,0CAAJ,CAASF,MAAT,CAAb;;AAEA;AACA,IAAIA,OAAOC,GAAX,EAAgB;AACd,QAAME,UAAU,IAAI,6CAAJ,CAAYD,IAAZ,CAAhB;AACAC,YAAQC,KAAR;AACD;;AAED;;AAEAnC,IAAIiB,GAAJ,CAAQgB,KAAKG,MAAb;;AAEA;AACApC,IAAIqC,MAAJ,CAAW9B,IAAX,EAAiBJ,IAAjB;AACAY,QAAQC,GAAR,CAAY,yBAAyBb,IAAzB,GAAgC,GAAhC,GAAsCI,IAAlD,E,CAAwD,iC;;;;;;ACpExD,iC;;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAM+B,SAAS,uDAAAC,EAAf;;AAEA;AACAD,OAAOrB,GAAP,CAAW,sDAAX,E,CAAiB;AACjBqB,OAAOrB,GAAP,CAAW,uDAAX;AACAqB,OAAOrB,GAAP,CAAW,0DAAX,E,CAAsB;AACtBqB,OAAOrB,GAAP,CAAW,uDAAX,E,CAAkB;AAClBqB,OAAOrB,GAAP,CAAW,wDAAX,E,CAAmB;AACnBqB,OAAOrB,GAAP,CAAW,uDAAX,E,CAAkB;AAClBqB,OAAOrB,GAAP,CAAW,wDAAX,E,CAAmB;AACnBqB,OAAOrB,GAAP,CAAW,sDAAX,E,CAAiB;AACjBqB,OAAOrB,GAAP,CAAW,wDAAX,E,CAAkB;AAClBqB,OAAOrB,GAAP,CAAW,SAAX,EAAsB,qDAAtB;AACA,yDAAeqB,MAAf,E;;;;;;;;;ACzBA;AACA,IAAMA,SAAS,uDAAAC,EAAf;AACA,IAAMC,KAAK,mBAAAzE,CAAQ,CAAR,CAAX;AACA,IAAM0E,YAAY,mBAAA1E,CAAQ,CAAR,CAAlB;AACA;AACAuE,OAAOI,GAAP,CAAW,OAAX,EAAoB,UAAUjB,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC5C,MAAIgB,OAAO;AACTC,UAAMJ,GAAGI,IAAH,EADG,EACQ;AACjBC,UAAML,GAAGK,IAAH,EAFG,EAEQ;AACjBC,gBAAYN,GAAGM,UAAH,EAHH,EAGoB;AAC7BC,aAASC,KAAKC,KAAL,CAAWT,GAAGO,OAAH,KAAe,OAA1B,CAJA,EAIoC;AAC7CG,aAASV,GAAGU,OAAH,EALA,EAKc;AACvBC,cAAUX,GAAGW,QAAH,EAND,EAMgB;AACzBC,uBAAmBZ,GAAGY,iBAAH,EAPV,EAOkC;AAC3CC,cAAUb,GAAGa,QAAH,EARD,EAQgB;AACzBC,aAASlD,QAAQmD,OATR,EASiB;AAC1BC,YAAQhB,GAAGgB,MAAH,EAVC,EAUY;AACrBC,cAAUT,KAAKC,KAAL,CAAWT,GAAGiB,QAAH,KAAgB,OAA3B,CAXD,EAWsC;AAC/CC,YAAQjB,UAAUkB,MAAV,CAAiBnB,GAAGkB,MAAH,EAAjB,CAZC,CAY6B;AAZ7B,GAAX;AAcAhC,MAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYC,KAAK,MAAjB,EAAyBC,MAAMpB,IAA/B,EAAT;AACD,CAhBD;;AAkBA,yDAAeL,MAAf,E;;;;;;ACvBA,+B;;;;;;ACAAvC,QAAQ4D,MAAR,GAAiB,UAAUK,WAAV,EAAuB;AACtC,MAAIC,OAAOC,SAASF,WAAT,IAAwB,GAAnC;AACA,MAAIE,SAASF,WAAT,IAAwB,EAA5B,EAAgC;AAC9B,QAAIG,SAASD,SAASF,WAAT,IAAwB,EAArC;AACA,QAAII,MAAMF,SAASF,cAAc,EAAvB,CAAV;AACA;AACAC,WAAOG,MAAM,IAAb;;AAEA,QAAIA,MAAM,EAAV,EAAc;AACZA,YAAMF,SAASF,cAAc,EAAvB,IAA6B,EAAnC;AACA,UAAIK,OAAOH,SAASA,SAASF,cAAc,EAAvB,IAA6B,EAAtC,CAAX;AACA;AACAC,aAAOI,OAAO,IAAP,GAAcD,GAAd,GAAoB,IAA3B;;AAEA,UAAIC,OAAO,EAAX,EAAe;AACbA,eAAOH,SAASA,SAASF,cAAc,EAAvB,IAA6B,EAAtC,IAA4C,EAAnD;AACA,YAAIM,MAAMJ,SAASA,SAASA,SAASF,cAAc,EAAvB,IAA6B,EAAtC,IAA4C,EAArD,CAAV;AACA;AACAC,eAAOK,MAAM,GAAN,GAAYD,IAAZ,GAAmB,IAAnB,GAA0BD,GAA1B,GAAgC,IAAvC;AACD;AACF;AACF;AACD,SAAOH,IAAP;AACD,CAvBD,C;;;;;;;;;ACAA;;AAEA,IAAM3B,SAAS,uDAAAC,EAAf;;AAEA;AACA,IAAMgC,QAAQ,CACZ,EAAEpD,MAAM,WAAR,EADY,EAEZ,EAAEA,MAAM,OAAR,EAFY,EAGZ,EAAEA,MAAM,WAAR,EAHY,CAAd;;AAMA;AACAmB,OAAOI,GAAP,CAAW,QAAX,EAAqB,UAAUjB,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC7CD,MAAIkC,IAAJ,CAASW,KAAT;AACD,CAFD;;AAIA;AACAjC,OAAOI,GAAP,CAAW,YAAX,EAAyB,UAAUjB,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACjD,MAAM7C,KAAKoF,SAASzC,IAAI+C,MAAJ,CAAW1F,EAApB,CAAX;AACA,MAAIA,MAAM,CAAN,IAAWA,KAAKyF,MAAME,MAA1B,EAAkC;AAChC/C,QAAIkC,IAAJ,CAASW,MAAMzF,EAAN,CAAT;AACD,GAFD,MAEO;AACL4C,QAAIgD,UAAJ,CAAe,GAAf;AACD;AACF,CAPD;;AASA,yDAAepC,MAAf,E;;;;;;;;;AC1BA;AACA,IAAMqC,aAAa,mBAAA5G,CAAQ,CAAR,CAAnB;;AAEA,IAAMuE,SAAS,uDAAAC,EAAf;AACA,IAAM5B,KAAK,mBAAA5C,CAAQ,CAAR,CAAX;;AAEA;AACAuE,OAAOI,GAAP,CAAW,WAAX,EAAwB,UAAUjB,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAChD,MAAI5C,QAAQ0C,IAAImD,KAAJ,CAAU7F,KAAV,IAAmB,EAA/B;AACA,MAAI8F,eAAepD,IAAImD,KAAJ,CAAUC,YAAV,IAA0B,CAA7C;AACAA,kBAAgB,CAAhB;AACA,MAAId,OAAO,EAAX;AACA;AACApD,KAAGlB,WAAH,CAAeR,IAAf,GAAsB6F,KAAtB,GAA8B3F,IAA9B,CAAmC,UAAC4F,GAAD,EAAMD,KAAN,EAAgB;AACjD,QAAIC,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACDC,SAAKiB,KAAL,GAAaF,KAAb;AACAf,SAAKhF,KAAL,GAAaA,KAAb;;AAEA;AACA4B,OAAGlB,WAAH,CAAeR,IAAf,GAAsBC,IAAtB,CAA2B,EAAC,OAAO,CAAC,CAAT,EAA3B,EAAwCC,IAAxC,CAA6C,UAAC4F,GAAD,EAAME,MAAN,EAAiB;AAC5D,UAAIF,GAAJ,EAAS;AACPrD,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD;AACA,UAAImB,OAAOR,MAAP,KAAkB,CAAtB,EAAyB;AACvB/C,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,MAAlB,EAA0BD,KAAK,MAA/B,EAAT;AACA;AACD;AACD,UAAIoB,MAAMD,OAAOR,MAAP,GAAgB,CAA1B;AACA,UAAIU,UAAUF,MAAd;;AAEA;AACAG,sBAAgBF,GAAhB;AACA,eAASE,eAAT,CAA0BC,CAA1B,EAA6B;AAC3B1E,WAAGhB,OAAH,CAAWV,IAAX,CAAgB,EAAC,cAAcgG,OAAOI,CAAP,EAAUC,GAAzB,EAAhB,EAA+C,UAAUP,GAAV,EAAeQ,OAAf,EAAwB;AACrE,cAAIR,GAAJ,EAAS;AACPrD,gBAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACDqB,kBAAQE,CAAR,EAAWG,SAAX,GAAuBD,QAAQd,MAA/B;AACAU,kBAAQE,CAAR,EAAWI,GAAX,GAAiB,QAAQN,QAAQE,CAAR,EAAWI,GAApC;AACA,cAAIJ,KAAK,CAAT,EAAY;AACVA;AACAD,4BAAgBC,CAAhB;AACD,WAHD,MAGO;AACLtB,iBAAK2B,QAAL,GAAgBP,OAAhB;AACApB,iBAAKc,YAAL,GAAoBA,eAAe,CAAnC;AACAnD,gBAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMA,IAAlB,EAAwBD,KAAK,QAA7B,EAAT;AACD;AACF,SAfD;AAgBD;AACF,KAjCD;AAkCD,GA3CD;AA6CD,CAnDD;;AAqDA;AACAxB,OAAOqD,IAAP,CAAY,cAAZ,EAA4B,UAAUlE,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACpD,MAAIiE,OAAO,IAAIjB,WAAWkB,YAAf,EAAX;AACAD,OAAKE,KAAL,CAAWrE,GAAX,EAAgB,UAAUsD,GAAV,EAAegB,MAAf,EAAuBC,KAAvB,EAA8B;AAC5C,QAAIjB,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD;AACA,QAAI,CAACiC,OAAO5E,IAAZ,EAAkB;AAChBO,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,UAAlB,EAA8BD,KAAK,UAAnC,EAAT;AACA;AACD;AACD,QAAI,CAACiC,OAAON,GAAZ,EAAiB;AACf/D,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,SAAlB,EAA6BD,KAAK,SAAlC,EAAT;AACA;AACD;AACD,QAAI3C,OAAO4E,OAAO5E,IAAlB;AACA,QAAIsE,MAAMM,OAAON,GAAjB;AACA,QAAIM,OAAOjH,EAAX,EAAe;AACb,UAAIA,KAAKiH,OAAOjH,EAAhB;AACA;AACA6B,SAAGlB,WAAH,CAAewG,MAAf,CAAsB,EAAE,OAAOnH,EAAT,EAAtB,EAAqC,EAACoH,MAAM,EAAC,QAAQ/E,IAAT,EAAe,OAAOsE,GAAtB,EAAP,EAArC,EAAyE,UAAUV,GAAV,EAAeE,MAAf,EAAuB;AAC9F,YAAIF,GAAJ,EAAS;AACPrD,cAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD;AACApC,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,MAAlB,EAA0BD,KAAK,MAA/B,EAAT;AACD,OAPD;AAQD,KAXD,MAWO;AACL;AACAnD,SAAGlB,WAAH,CAAeR,IAAf,CAAoB,EAAC,QAAQkC,IAAT,EAApB,EAAoC,UAAU4D,GAAV,EAAeE,MAAf,EAAuB;AACzD,YAAIF,GAAJ,EAAS;AACPrD,cAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD,YAAImB,OAAOR,MAAP,GAAgB,CAApB,EAAuB;AACrB/C,cAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,QAAlB,EAA4BD,KAAK,QAAjC,EAAT;AACA;AACD;AACD;AACA,YAAInD,GAAGlB,WAAP,CAAmB,EAAC,QAAQ0B,IAAT,EAAe,OAAOsE,GAAtB,EAAnB,EAA+CU,IAA/C,CAAoD,UAAUpB,GAAV,EAAe;AACjE,cAAIA,GAAJ,EAAS;AACPrD,gBAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACDpC,cAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYC,KAAK,QAAjB,EAA2BC,MAAM,QAAjC,EAAT;AACD,SAND;AAOD,OAjBD;AAkBD;AACF,GAhDD;AAiDD,CAnDD;;AAqDA;AACAzB,OAAO8D,MAAP,CAAc,cAAd,EAA8B,UAAU3E,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACtD,MAAI,CAACF,IAAImD,KAAJ,CAAU9F,EAAf,EAAmB;AACjB4C,QAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,UAAlB,EAA8BD,KAAK,UAAnC,EAAT;AACA;AACD;AACD,MAAIuC,MAAM5E,IAAImD,KAAJ,CAAU9F,EAApB;AALsD;AAAA;AAAA;;AAAA;AAMtD,yBAAcuH,GAAd,8HAAmB;AAAA,UAAVhB,CAAU;;AACjB1E,SAAGlB,WAAH,CAAe6G,MAAf,CAAsB,EAAC,OAAOjB,CAAR,EAAtB,EAAkC,UAAUN,GAAV,EAAeE,MAAf,EAAuB;AACvD,YAAIF,GAAJ,EAAS;AACPrD,cAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACF,OALD;AAMD;AAbqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AActDpC,MAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,MAAlB,EAA0BD,KAAK,MAA/B,EAAT;AACD,CAfD;AAgBA,yDAAexB,MAAf,E;;;;;;;;;ACnIA;AACA,IAAMqC,aAAa,mBAAA5G,CAAQ,CAAR,CAAnB;AACA,IAAMwI,SAAS,mBAAAxI,CAAQ,EAAR,CAAf;AACAwI,OAAOC,MAAP,CAAc,OAAd;AACA,IAAMlE,SAAS,uDAAAC,EAAf;AACA,IAAM5B,KAAK,mBAAA5C,CAAQ,CAAR,CAAX;;AAEA;AACAuE,OAAOI,GAAP,CAAW,QAAX,EAAqB,UAAUjB,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC7C,MAAI5C,QAAQ0C,IAAImD,KAAJ,CAAU7F,KAAV,IAAmB,EAA/B;AACA,MAAI8F,eAAepD,IAAImD,KAAJ,CAAUC,YAAV,IAA0B,CAA7C;AACA,MAAI4B,aAAa,EAAjB;AACA,MAAIhF,IAAImD,KAAJ,CAAU6B,UAAd,EAA0B;AACxBA,eAAW,YAAX,IAA2BhF,IAAImD,KAAJ,CAAU6B,UAArC;AACD;AACD5B,kBAAgB,CAAhB;AACA,MAAId,OAAO,EAAX;AACA;AACApD,KAAGhB,OAAH,CAAWV,IAAX,CAAgBwH,UAAhB,EAA4B3B,KAA5B,GAAoC3F,IAApC,CAAyC,UAAC4F,GAAD,EAAMD,KAAN,EAAgB;AACvD,QAAIC,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACDC,SAAKiB,KAAL,GAAaF,KAAb;AACAf,SAAKhF,KAAL,GAAaA,KAAb;AACA;AACA4B,OAAGhB,OAAH,CAAWV,IAAX,CAAgBwH,UAAhB,EAA4BvH,IAA5B,CAAiC,EAAC,OAAO,CAAC,CAAT,EAAjC,EAA8CwH,IAA9C,CAAmD7B,eAAe9F,KAAlE,EAAyEA,KAAzE,CAA+EA,KAA/E,EAAsFI,IAAtF,CAA2F,UAAC4F,GAAD,EAAME,MAAN,EAAiB;AAC1G,UAAIF,GAAJ,EAAS;AACPrD,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD,UAAImB,OAAOR,MAAP,KAAkB,CAAtB,EAAyB;AACvB/C,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,MAAlB,EAA0BD,KAAK,MAA/B,EAAT;AACA;AACD;AACD,UAAI6C,OAAO,EAAX;AACA,UAAIC,WAAW,EAAf;AACA3B,aAAO4B,OAAP,CAAe,UAACC,CAAD,EAAIzB,CAAJ,EAAU;AACvBuB,mBAAW,EAAX;AACAA,iBAAS,YAAT,IAAyBL,OAAOtB,OAAOI,CAAP,EAAU0B,UAAjB,EAA6BC,MAA7B,CAAoC,qBAApC,CAAzB;AACAJ,iBAAS,KAAT,IAAkB3B,OAAOI,CAAP,EAAUC,GAA5B;AACAsB,iBAAS,MAAT,IAAmB3B,OAAOI,CAAP,EAAUlE,IAA7B;AACAyF,iBAAS,KAAT,IAAkB3B,OAAOI,CAAP,EAAUI,GAA5B;AACAmB,iBAAS,SAAT,IAAsB3B,OAAOI,CAAP,EAAU4B,OAAhC;AACAL,iBAAS,KAAT,IAAkB3B,OAAOI,CAAP,EAAU6B,GAA5B;AACAN,iBAAS,YAAT,IAAyB3B,OAAOI,CAAP,EAAUoB,UAAnC;AACAG,iBAAS,YAAT,IAAyB3B,OAAOI,CAAP,EAAU8B,UAAnC;AACAP,iBAAS,KAAT,IAAkB3B,OAAOI,CAAP,EAAU+B,GAA5B;AACAT,aAAKtB,CAAL,IAAUuB,QAAV;AACD,OAZD;AAaA7C,WAAKc,YAAL,GAAoBA,eAAe,CAAnC;AACAd,WAAKA,IAAL,GAAY4C,IAAZ;AACAjF,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMA,IAAlB,EAAwBD,KAAK,UAA7B,EAAT;AAED,KA5BD;AA6BD,GArCD;AAsCD,CAhDD;;AAkDA;AACAxB,OAAOqD,IAAP,CAAY,QAAZ,EAAsB,UAAUlE,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC9C,MAAIiE,OAAO,IAAIjB,WAAWkB,YAAf,EAAX;AACAD,OAAKE,KAAL,CAAWrE,GAAX,EAAgB,UAAUsD,GAAV,EAAegB,MAAf,EAAuBC,KAAvB,EAA8B;AAC5C,QAAIjB,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD;AACA,QAAI,CAACiC,OAAO5E,IAAZ,EAAkB;AAChBO,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,WAAlB,EAA+BD,KAAK,WAApC,EAAT;AACA;AACD;AACD,QAAI,CAACiC,OAAON,GAAZ,EAAiB;AACf/D,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,UAAlB,EAA8BD,KAAK,UAAnC,EAAT;AACA;AACD;AACD,QAAG,CAACiC,OAAOkB,OAAX,EAAoB;AAClBvF,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,cAAlB,EAAkCD,KAAK,cAAvC,EAAT;AACA;AACD;AACD,QAAG,CAACiC,OAAOU,UAAX,EAAuB;AACrB/E,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,iBAAlB,EAAqCD,KAAK,iBAA1C,EAAT;AACA;AACD;AACD,QAAI3C,OAAO4E,OAAO5E,IAAlB;AACA,QAAIsE,MAAMM,OAAON,GAAjB;AACA,QAAIwB,UAAUlB,OAAOkB,OAArB;AACA,QAAIR,aAAaV,OAAOU,UAAxB;AACA;AACA9F,OAAGhB,OAAH,CAAWV,IAAX,CAAgB,EAAC,QAAQkC,IAAT,EAAhB,EAAgC2D,KAAhC,GAAwC3F,IAAxC,CAA6C,UAAC4F,GAAD,EAAMD,KAAN,EAAc;AACzD,UAAIC,GAAJ,EAAS;AACPrD,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD,UAAIgB,UAAU,CAAd,EAAiB;AACfpD,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,QAAlB,EAA4BD,KAAK,QAAjC,EAAT;AACA;AACD;AACD;AACA,UAAInD,GAAGhB,OAAP,CAAe,EAAC,QAAQwB,IAAT,EAAe,OAAOsE,GAAtB,EAA2B,WAAWwB,OAAtC,EAA+C,OAAO,CAAtD,EAAyD,cAAcR,UAAvE,EAAf,EAAmGN,IAAnG,CAAwG,UAAUpB,GAAV,EAAe;AACrH,YAAIA,GAAJ,EAAS;AACPrD,cAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACDpC,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYC,KAAK,QAAjB,EAA2BC,MAAM,QAAjC,EAAT;AACD,OAND;AAOD,KAjBD;AAkBD,GA7CD;AA8CD,CAhDD;;AAkDA;AACAzB,OAAO+E,GAAP,CAAW,QAAX,EAAqB,UAAU5F,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC7C,MAAIiE,OAAO,IAAIjB,WAAWkB,YAAf,EAAX;AACAD,OAAKE,KAAL,CAAWrE,GAAX,EAAgB,UAAUsD,GAAV,EAAegB,MAAf,EAAuBC,KAAvB,EAA8B;AAC5C,QAAIjB,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD;AACA,QAAI,CAACiC,OAAOjH,EAAZ,EAAgB;AACd4C,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,SAAlB,EAA6BD,KAAK,SAAlC,EAAT;AACA;AACD;AACD,QAAI,CAACiC,OAAO5E,IAAZ,EAAkB;AAChBO,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,WAAlB,EAA+BD,KAAK,WAApC,EAAT;AACA;AACD;AACD,QAAI,CAACiC,OAAON,GAAZ,EAAiB;AACf/D,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,UAAlB,EAA8BD,KAAK,UAAnC,EAAT;AACA;AACD;AACD,QAAG,CAACiC,OAAOkB,OAAX,EAAoB;AAClBvF,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,cAAlB,EAAkCD,KAAK,cAAvC,EAAT;AACA;AACD;AACD,QAAG,CAACiC,OAAOU,UAAX,EAAuB;AACrB/E,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,iBAAlB,EAAqCD,KAAK,iBAA1C,EAAT;AACA;AACD;AACD,QAAI3C,OAAO4E,OAAO5E,IAAlB;AACA,QAAIsE,MAAMM,OAAON,GAAjB;AACA,QAAIwB,UAAUlB,OAAOkB,OAArB;AACA,QAAIR,aAAaV,OAAOU,UAAxB;AACA,QAAI3H,KAAKiH,OAAOjH,EAAhB;AACA6B,OAAGhB,OAAH,CAAWsG,MAAX,CAAkB,EAAE,OAAOnH,EAAT,EAAlB,EAAiC,EAACoH,MAAM,EAAC,QAAQ/E,IAAT,EAAe,OAAOsE,GAAtB,EAA2B,WAAWwB,OAAtC,EAA+C,cAAcR,UAA7D,EAAP,EAAjC,EAAmH,UAAU1B,GAAV,EAAeE,MAAf,EAAuB;AACxI,UAAIF,GAAJ,EAAS;AACPrD,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD;AACApC,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,MAAlB,EAA0BD,KAAK,MAA/B,EAAT;AACD,KAPD;AAQD,GAvCD;AAwCD,CA1CD;;AA4CA;AACAxB,OAAO8D,MAAP,CAAc,QAAd,EAAwB,UAAU3E,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAChD,MAAI,CAACF,IAAImD,KAAJ,CAAU9F,EAAf,EAAmB;AACjB4C,QAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,UAAlB,EAA8BD,KAAK,UAAnC,EAAT;AACA;AACD;AACD,MAAIuC,MAAM5E,IAAImD,KAAJ,CAAU9F,EAApB;AALgD;AAAA;AAAA;;AAAA;AAMhD,yBAAcuH,GAAd,8HAAmB;AAAA,UAAVhB,CAAU;;AACjB1E,SAAGhB,OAAH,CAAW2G,MAAX,CAAkB,EAAC,OAAOjB,CAAR,EAAlB,EAA8B,UAAUN,GAAV,EAAeE,MAAf,EAAuB;AACnD,YAAIF,GAAJ,EAAS;AACPrD,cAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACF,OALD;AAMD;AAb+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAchDpC,MAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,MAAlB,EAA0BD,KAAK,MAA/B,EAAT;AACD,CAfD;;AAiBA;AACAxB,OAAOI,GAAP,CAAW,eAAX,EAA4B,UAAUjB,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACpD,MAAI7C,KAAK2C,IAAImD,KAAJ,CAAU9F,EAAnB;AACA,MAAI,CAACA,EAAL,EAAS;AACP4C,QAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,SAAlB,EAA6BD,KAAK,SAAlC,EAAT;AACA;AACD;AACDnD,KAAGhB,OAAH,CAAWV,IAAX,CAAgB,EAAC,OAAOH,EAAR,EAAhB,EAA6B,UAAUiG,GAAV,EAAeE,MAAf,EAAuB;AAClD,QAAIF,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACDpC,QAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMkB,MAAlB,EAA0BnB,KAAK,UAA/B,EAAT;AACD,GAND;AAOD,CAbD;AAcA,yDAAexB,MAAf,E;;;;;;AC3LA,mC;;;;;;;;;ACAA;AACA,IAAMqC,aAAa,mBAAA5G,CAAQ,CAAR,CAAnB;AACA,IAAMuE,SAAS,uDAAAC,EAAf;AACA,IAAM5B,KAAK,mBAAA5C,CAAQ,CAAR,CAAX;;AAEA;AACAuE,OAAOI,GAAP,CAAW,SAAX,EAAsB,UAAUjB,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC9ChB,KAAGf,QAAH,CAAYX,IAAZ,GAAmBC,IAAnB,CAAwB,EAAC,OAAO,CAAC,CAAT,EAAxB,EAAqCC,IAArC,CAA0C,UAAC4F,GAAD,EAAME,MAAN,EAAiB;AACzD,QAAIF,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD,QAAI6C,OAAO,EAAX;AACA,QAAIC,WAAW,EAAf;AACA3B,WAAO4B,OAAP,CAAe,UAACC,CAAD,EAAIzB,CAAJ,EAAU;AACvBuB,iBAAW,EAAX;AACAA,eAAS,KAAT,IAAkB,YAAYnF,IAAI6F,OAAJ,CAAYnH,IAAxB,GAA+B,GAA/B,GAAqC8E,OAAOI,CAAP,EAAUI,GAAjE;AACAmB,eAAS,KAAT,IAAkB,QAAQ3B,OAAOI,CAAP,EAAUI,GAApC;AACAmB,eAAS,MAAT,IAAmB3B,OAAOI,CAAP,EAAUlE,IAA7B;AACAyF,eAAS,YAAT,IAAyB3B,OAAOI,CAAP,EAAU8B,UAAnC;AACAP,eAAS,YAAT,IAAyB3B,OAAOI,CAAP,EAAU0B,UAAnC;AACAH,eAAS,KAAT,IAAkB3B,OAAOI,CAAP,EAAU+B,GAA5B;AACAR,eAAS,KAAT,IAAkB3B,OAAOI,CAAP,EAAUC,GAA5B;AACAqB,WAAKtB,CAAL,IAAUuB,QAAV;AACD,KAVD;;AAYAlF,QAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM4C,IAAlB,EAAwB7C,KAAK,QAA7B,EAAT;AACD,GApBD;AAqBD,CAtBD;;AAwBA;AACAxB,OAAOqD,IAAP,CAAY,SAAZ,EAAuB,UAAUlE,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC/C,MAAIiE,OAAO,IAAIjB,WAAWkB,YAAf,EAAX;AACAD,OAAKE,KAAL,CAAWrE,GAAX,EAAgB,UAAUsD,GAAV,EAAegB,MAAf,EAAuBC,KAAvB,EAA8B;AAC5C,QAAIjB,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD;AACA,QAAI,CAACiC,OAAO5E,IAAZ,EAAkB;AAChBO,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,UAAlB,EAA8BD,KAAK,UAAnC,EAAT;AACA;AACD;AACD,QAAI,CAACiC,OAAON,GAAZ,EAAiB;AACf/D,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,SAAlB,EAA6BD,KAAK,SAAlC,EAAT;AACA;AACD;AACD,QAAI3C,OAAO4E,OAAO5E,IAAlB;AACA,QAAIsE,MAAMM,OAAON,GAAjB;AACA,QAAI9E,GAAGf,QAAP,CAAgB,EAAC,QAAQuB,IAAT,EAAe,OAAOsE,GAAtB,EAAhB,EAA4CU,IAA5C,CAAiD,UAAUpB,GAAV,EAAe;AAC9D,UAAIA,GAAJ,EAAS;AACPrD,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACDpC,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYC,KAAK,QAAjB,EAA2BC,MAAM,QAAjC,EAAT;AACD,KAND;AAOD,GAvBD;AAwBD,CA1BD;;AA4BA;AACAzB,OAAO+E,GAAP,CAAW,SAAX,EAAsB,UAAU5F,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC9C,MAAIiE,OAAO,IAAIjB,WAAWkB,YAAf,EAAX;AACAD,OAAKE,KAAL,CAAWrE,GAAX,EAAgB,UAAUsD,GAAV,EAAegB,MAAf,EAAuBC,KAAvB,EAA8B;AAC5C,QAAIjB,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD;AACA,QAAI,CAACiC,OAAOjH,EAAZ,EAAgB;AACd4C,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,SAAlB,EAA6BD,KAAK,SAAlC,EAAT;AACA;AACD;AACD,QAAI,CAACiC,OAAO5E,IAAZ,EAAkB;AAChBO,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,WAAlB,EAA+BD,KAAK,WAApC,EAAT;AACA;AACD;AACD,QAAI,CAACiC,OAAON,GAAZ,EAAiB;AACf/D,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,UAAlB,EAA8BD,KAAK,UAAnC,EAAT;AACA;AACD;AACD,QAAI3C,OAAO4E,OAAO5E,IAAlB;AACA,QAAIsE,MAAMM,OAAON,GAAjB;AACA,QAAI3G,KAAKiH,OAAOjH,EAAhB;AACA6B,OAAGf,QAAH,CAAYqG,MAAZ,CAAmB,EAAE,OAAOnH,EAAT,EAAnB,EAAkC,EAACoH,MAAM,EAAC,QAAQ/E,IAAT,EAAe,OAAOsE,GAAtB,EAAP,EAAlC,EAAsE,UAAUV,GAAV,EAAeE,MAAf,EAAuB;AAC3F,UAAIF,GAAJ,EAAS;AACPrD,YAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACD;AACApC,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,MAAlB,EAA0BD,KAAK,MAA/B,EAAT;AACD,KAPD;AAQD,GA7BD;AA8BD,CAhCD;;AAkCAxB,OAAO8D,MAAP,CAAc,SAAd,EAAyB,UAAU3E,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACjD,MAAI,CAACF,IAAImD,KAAJ,CAAU9F,EAAf,EAAmB;AACjB4C,QAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,UAAlB,EAA8BD,KAAK,UAAnC,EAAT;AACA;AACD;AACD,MAAIuC,MAAM5E,IAAImD,KAAJ,CAAU9F,EAApB;AALiD;AAAA;AAAA;;AAAA;AAMjD,yBAAcuH,GAAd,8HAAmB;AAAA,UAAVhB,CAAU;;AACjB1E,SAAGf,QAAH,CAAY0G,MAAZ,CAAmB,EAAC,OAAOjB,CAAR,EAAnB,EAA+B,UAAUN,GAAV,EAAeE,MAAf,EAAuB;AACpD,YAAIF,GAAJ,EAAS;AACPrD,cAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAK,OAA5B,EAAT;AACA;AACD;AACF,OALD;AAMD;AAbgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAcjDpC,MAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAM,MAAlB,EAA0BD,KAAK,MAA/B,EAAT;AACD,CAfD;AAgBA,yDAAexB,MAAf,E;;;;;;AC9GA,IAAMqC,aAAa,mBAAA5G,CAAQ,CAAR,CAAnB;AACA,IAAMwJ,KAAK,mBAAAxJ,CAAQ,EAAR,CAAX;;AAEAyJ,OAAOzH,OAAP,GAAiB,UAAU0B,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;;AAEzC,MAAIiE,OAAO,IAAIjB,WAAWkB,YAAf,EAAX;AACAD,OAAK6B,SAAL,GAAiB,SAAjB;AACA7B,OAAK8B,cAAL,GAAsB,IAAtB,CAJyC,CAId;AAC3B9B,OAAK+B,aAAL,GAAqB,IAAI,IAAJ,GAAW,IAAhC,CALyC,CAKJ;AACrC/B,OAAKE,KAAL,CAAWrE,GAAX,EAAgB,UAAUsD,GAAV,EAAegB,MAAf,EAAuBC,KAAvB,EAA8B;AAC5C,QAAIjB,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMgB,GAAlB,EAAuBjB,KAAKiB,GAA5B,EAAT;AACA;AACD;AACD,QAAI6C,OAAO,IAAIvJ,IAAJ,EAAX;AACA,QAAIwJ,IAAID,KAAKE,WAAL,EAAR;AACA,QAAIC,IAAIH,KAAKI,QAAL,KAAkB,CAA1B;AACA,QAAIC,IAAIL,KAAKM,OAAL,EAAR;AACA,QAAIC,UAAUnC,MAAMoC,IAAN,CAAWxG,IAAzB,CAT4C,CASd;AAC9B,QAAIxD,OAAO,YAAYe,IAAZ,CAAiBgJ,OAAjB,EAA0B,CAA1B,CAAX,CAV4C,CAUJ;AACxC,QAAIE,UAAU,aAAaR,CAAb,GAAiB,GAAjB,GAAuBE,CAAvB,GAA2B,GAA3B,GAAiCE,CAAjC,GAAqC7J,IAAnD;;AAEA;AACA,QAAI,CAACmJ,GAAGe,UAAH,CAAc,aAAaT,CAA3B,CAAL,EAAoC;AAClCN,SAAGgB,SAAH,CAAa,aAAaV,CAA1B;AACD;AACD,QAAI,CAACN,GAAGe,UAAH,CAAc,aAAaT,CAAb,GAAiB,GAAjB,GAAuBE,CAArC,CAAL,EAA8C;AAC5CR,SAAGgB,SAAH,CAAa,aAAaV,CAAb,GAAiB,GAAjB,GAAuBE,CAApC;AACD;AACD;AACA,QAAIS,SAASjB,GAAGkB,UAAH,CAAcN,OAAd,EAAuBE,OAAvB,CAAb;AACA,QAAI,CAACG,MAAL,EAAa;AACX9G,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYC,KAAK,QAAjB,EAA2BC,MAAM,EAAC,OAAOsE,OAAR,EAAiBK,KAAKjH,IAAI6F,OAAJ,CAAYqB,MAAZ,GAAqB,GAArB,GAA2BN,OAAjD,EAAjC,EAAT;AACD,KAFD,MAEO;AACL3G,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYC,KAAK,QAAjB,EAA2BC,MAAM,QAAjC,EAAT;AACD;AACF,GA3BD;AA4BD,CAlCD,C;;;;;;ACHA,+B;;;;;;;;;ACAA;AACA,IAAMzB,SAAS,uDAAAC,EAAf;AACA,IAAM5B,KAAK,mBAAA5C,CAAQ,CAAR,CAAX;AACA,IAAM4G,aAAa,mBAAA5G,CAAQ,CAAR,CAAnB;;AAEAuE,OAAOI,GAAP,CAAW,QAAX,EAAqB,UAASjB,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC5ChB,KAAGd,OAAH,CAAWZ,IAAX,CAAgB,EAAE,OAAO,0BAAT,EAAhB,EAAuD,UAAS8F,GAAT,EAAcE,MAAd,EAAsB;AAC3E,QAAIF,GAAJ,EAAS,OAAOrD,IAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,OAA7B,EAAT,CAAP;AACT,QAAI6C,OAAO,EAAX;AACE,QAAIC,WAAW,EAAf;AACA3B,WAAO4B,OAAP,CAAe,UAACC,CAAD,EAAIzB,CAAJ,EAAU;AACvBuB,iBAAW,EAAX;AACA,UAAI,CAAC3B,OAAOI,CAAP,EAAUuD,MAAX,IAAqB,EAAzB,EAA6B;AAC5BhC,iBAAS,QAAT,IAAqB,QAAQ3B,OAAOI,CAAP,EAAUuD,MAAvC;AACAhC,iBAAS,KAAT,IAAkB,YAAYnF,IAAI6F,OAAJ,CAAYnH,IAAxB,GAA+B,GAA/B,GAAqC8E,OAAOI,CAAP,EAAUuD,MAAjE;AACA;AACDhC,eAAS,YAAT,IAAyB3B,OAAOI,CAAP,EAAU0B,UAAnC;AACAH,eAAS,YAAT,IAAyB3B,OAAOI,CAAP,EAAU8B,UAAnC;AACAP,eAAS,KAAT,IAAkB3B,OAAOI,CAAP,EAAUC,GAA5B;AACAsB,eAAS,WAAT,IAAwB3B,OAAOI,CAAP,EAAUwD,SAAlC;AACAjC,eAAS,OAAT,IAAoB3B,OAAOI,CAAP,EAAUyD,KAA9B;AACAlC,eAAS,WAAT,IAAwB3B,OAAOI,CAAP,EAAU0D,SAAlC;AACAnC,eAAS,QAAT,IAAqB3B,OAAOI,CAAP,EAAU2D,MAA/B;AACApC,eAAS,MAAT,IAAmB3B,OAAOI,CAAP,EAAUlE,IAA7B;AACAyF,eAAS,SAAT,IAAsB3B,OAAOI,CAAP,EAAU4D,OAAhC;AACArC,eAAS,KAAT,IAAkB3B,OAAOI,CAAP,EAAU+B,GAA5B;AACAT,WAAKtB,CAAL,IAAUuB,QAAV;AACD,KAjBD;AAkBFlF,QAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM4C,IAAnB,EAAyB7C,KAAK,QAA9B,EAAT;AACD,GAvBD;AAwBD,CAzBD;;AA2BAxB,OAAOqD,IAAP,CAAY,QAAZ,EAAsB,UAASlE,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC7C,MAAIiE,OAAO,IAAIjB,WAAWkB,YAAf,EAAX;AACAD,OAAKE,KAAL,CAAWrE,GAAX,EAAgB,UAASsD,GAAT,EAAcgB,MAAd,EAAsBC,KAAtB,EAA6B;AAC3C,QAAIjB,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,OAA7B,EAAT;AACA;AACD;AACD;AACA,QAAIC,OAAO,EAAX;AACA,QAAIgC,OAAO6C,MAAX,EAAmB;AACjB7E,WAAK6E,MAAL,GAAc7C,OAAO6C,MAArB,CADiB,CACW;AAC7B;AACD,QAAI7C,OAAO8C,SAAX,EAAsB;AACpB9E,WAAK8E,SAAL,GAAiB9C,OAAO8C,SAAxB,CADoB,CACc;AACnC;AACD,QAAI9C,OAAO+C,KAAX,EAAkB;AAChB/E,WAAK+E,KAAL,GAAa/C,OAAO+C,KAApB,CADgB,CACU;AAE3B;AACD,QAAI/C,OAAOgD,SAAX,EAAsB;AACpBhF,WAAKgF,SAAL,GAAiBhD,OAAOgD,SAAxB,CADoB,CACc;AAEnC;AACD,QAAIhD,OAAOiD,MAAX,EAAmB;AACjBjF,WAAKiF,MAAL,GAAcjD,OAAOiD,MAArB,CADiB,CACW;AAE7B;AACD,QAAIjD,OAAO5E,IAAX,EAAiB;AACf4C,WAAK5C,IAAL,GAAY4E,OAAO5E,IAAnB,CADe,CACS;AAEzB;AACD,QAAI4E,OAAOkD,OAAX,EAAoB;AAClBlF,WAAKkF,OAAL,GAAelD,OAAOkD,OAAtB,CADkB,CACY;AAE/B;AACDtI,OAAGd,OAAH,CAAWoG,MAAX,CAAkB,EAAE,OAAO,0BAAT,EAAlB,EAAyD,EAACC,MAAMnC,IAAP,EAAzD,EAAuE,UAAUgB,GAAV,EAAeE,MAAf,EAAuB;AAC7F,UAAIF,GAAJ,EAAS;AACPrD,YAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,OAA7B,EAAT;AACA;AACD;AACDpC,UAAIkC,IAAJ,CAAS,EAACC,MAAM,GAAP,EAAYE,MAAMkB,MAAlB,EAA0BnB,KAAK,MAA/B,EAAT;AACA,KAND;AAQD,GAzCD;AA0CD,CA5CD;;AA8CA,yDAAexB,MAAf,E;;;;;;;;;AC9EA;AACA,IAAMA,SAAS,uDAAAC,EAAf;AACA,IAAM5B,KAAK,mBAAA5C,CAAQ,CAAR,CAAX;AACA,IAAMmL,MAAM,mBAAAnL,CAAQ,EAAR,CAAZ;AACA,IAAM4G,aAAa,mBAAA5G,CAAQ,CAAR,CAAnB;;AAEAuE,OAAOI,GAAP,CAAW,SAAX,EAAsB,UAASjB,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC7ChB,KAAGb,QAAH,CAAYb,IAAZ,CAAiB,EAAE,OAAO,0BAAT,EAAjB,EAAwD,UAAS8F,GAAT,EAAcE,MAAd,EAAsB;AAC5E,QAAIF,GAAJ,EAAS,OAAOrD,IAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,OAA7B,EAAT,CAAP;AACTpC,QAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMkB,MAAnB,EAA2BnB,KAAK,MAAhC,EAAT;AACD,GAHD;AAID,CALD;;AAOAxB,OAAOqD,IAAP,CAAY,SAAZ,EAAuB,UAASlE,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC9C,MAAIiE,OAAO,IAAIjB,WAAWkB,YAAf,EAAX;AACAD,OAAKE,KAAL,CAAWrE,GAAX,EAAgB,UAASsD,GAAT,EAAcgB,MAAd,EAAsBC,KAAtB,EAA6B;AAC3C,QAAIjB,GAAJ,EAAS;AACPrD,UAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,OAA7B,EAAT;AACA;AACD;AACD,QAAI,CAACiC,OAAOlC,IAAZ,EAAkB;AAChBnC,UAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,WAAnB,EAAgCD,KAAK,WAArC,EAAT;AACA;AACD;AACD,QAAI,CAACiC,OAAOoD,YAAZ,EAA0B;AACxBzH,UAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,mBAAnB,EAAwCD,KAAK,mBAA7C,EAAT;AACA;AACD;AACD,QAAIiC,OAAOlC,IAAP,CAAYuF,WAAZ,MAA6B3H,IAAIvB,OAAJ,CAAYmJ,OAA7C,EAAsD;AACpD3H,UAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,OAAnB,EAA4BD,KAAK,OAAjC,EAAT;AACA;AACD;AACD,QAAIwF,WAAWJ,IAAInD,OAAOoD,YAAX,CAAf;AACAxI,OAAGb,QAAH,CAAYb,IAAZ,CAAiB,EAAE,OAAO,0BAAT,EAAjB,EAAwD,UAAS8F,GAAT,EAAcE,MAAd,EAAsB;AAC5E,UAAIF,GAAJ,EAAS,OAAOrD,IAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,OAA7B,EAAT,CAAP;AACT,UAAIwF,YAAYrE,OAAO,CAAP,EAAUqE,QAA1B,EAAoC;AAClC5H,YAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,MAAnB,EAA2BD,KAAK,MAAhC,EAAT;AACA;AACD;AACD;AACA,UAAIC,OAAO,EAAX;AACA,UAAIgC,OAAO5E,IAAX,EAAiB;AACf4C,aAAK5C,IAAL,GAAY4E,OAAO5E,IAAnB,CADe,CACS;AACzB;AACD,UAAI4E,OAAOuD,QAAX,EAAqB;AACnBvF,aAAKuF,QAAL,GAAgBJ,IAAInD,OAAOuD,QAAX,CAAhB,CADmB,CACkB;AACtC;;AAED,UAAIvD,OAAOwD,KAAX,EAAkB;AAChBxF,aAAKwF,KAAL,GAAaxD,OAAOwD,KAApB,CADgB,CACU;AAE3B;AACD,UAAIxD,OAAOyD,UAAX,EAAuB;AACrBzF,aAAKyF,UAAL,GAAkBzD,OAAOyD,UAAzB,CADqB,CACe;AAErC;AACD,UAAIzD,OAAO0D,cAAX,EAA2B;AACzB1F,aAAK0F,cAAL,GAAsB1D,OAAO0D,cAA7B,CADyB,CACmB;AAE7C;AACD,UAAI1D,OAAO2D,IAAX,EAAiB;AACf3F,aAAK2F,IAAL,GAAY3D,OAAO2D,IAAnB,CADe,CACS;AACzB;AACD,UAAI3D,OAAO4D,SAAX,EAAsB;AACpB5F,aAAK4F,SAAL,GAAiB5D,OAAO4D,SAAxB,CADoB,CACc;AACnC;AACD,UAAI5D,OAAO6D,KAAX,EAAkB;AAChB7F,aAAK6F,KAAL,GAAa7D,OAAO6D,KAApB,CADgB,CACU;AAC3B;AACD,UAAI7D,OAAO8D,SAAX,EAAsB;AACpB9F,aAAK8F,SAAL,GAAiB9D,OAAO8D,SAAxB,CADoB,CACc;AACnC;AACDlJ,SAAGb,QAAH,CAAYmG,MAAZ,CAAmB,EAAE,OAAO,0BAAT,EAAnB,EAA0D,EAAEC,MAAMnC,IAAR,EAA1D,EAA0E,UAASgB,GAAT,EAAcE,MAAd,EAAsB;AAC9F,YAAIF,GAAJ,EAAS;AACPrD,cAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,OAA7B,EAAT;AACA;AACD;AACDpC,YAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMkB,MAAnB,EAA2BnB,KAAK,MAAhC,EAAT;AACD,OAND;AAQD,KA/CD;AAkDD,GApED;AAqED,CAvED;;AAyEA,yDAAexB,MAAf,E;;;;;;ACtFA,IAAMwH,SAAS,mBAAA/L,CAAQ,EAAR,CAAf;;AAEAyJ,OAAOzH,OAAP,GAAiB,UAASgK,GAAT,EAAa;AAC1B,aAAShC,CAAT,CAAWiC,CAAX,EAAc;AACV,eAAOF,OAAOG,UAAP,CAAkB,KAAlB,EAAyBhE,MAAzB,CAAgC+D,CAAhC,EAAmCE,MAAnC,CAA0C,QAA1C,CAAP;AACH;;AAED,QAAIZ,WAAWvB,EAAEA,EAAEgC,GAAF,IAAS,QAAT,GAAoBhC,EAAEgC,GAAF,CAAtB,CAAf;AACA,WAAOT,QAAP;AACH,CAPD,C;;;;;;ACFA,mC;;;;;;;;;ACAA;AACA,IAAMhH,SAAS,uDAAAC,EAAf;AACA,IAAM4H,UAAU,mBAAApM,CAAQ,EAAR,CAAhB;;AAEAuE,OAAOI,GAAP,CAAW,OAAX,EAAoB,UAASjB,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC3CwI,UAAQ,UAAStG,IAAT,EAAe4B,GAAf,EAAoB;AAC1B;AACAhE,QAAIvB,OAAJ,CAAYmJ,OAAZ,GAAsBxF,IAAtB;AACA,QAAIE,OAAO,EAAX;AACA,QAAIF,QAAQ4B,GAAZ,EAAiB;AACf1B,aAAO;AACLF,cAAM,GADD;AAELC,aAAK,MAFA;AAGLC,cAAM0B;AAHD,OAAP;AAKD,KAND,MAMO;AACL1B,aAAO;AACLF,cAAM,GADD;AAELC,aAAK,MAFA;AAGLC,cAAM0B;AAHD,OAAP;AAKD;;AAED/D,QAAIkC,IAAJ,CAASG,IAAT;AACD,GAnBD;AAqBD,CAtBD;;AAwBA,yDAAezB,MAAf,E;;;;;;AC5BA;AACA,IAAM8H,aAAa,mBAAArM,CAAQ,EAAR,CAAnB;;AAEAyJ,OAAOzH,OAAP,GAAiB,oBAAY;AACzB,QAAIsK,aAAa;AACbC,cAAM,CADO,EACL;AACRC,qBAAa,MAFA,EAEQ;AACrBC,eAAO,CAHM,EAGH;AACVC,gBAAQ;AAJK,KAAjB;AAMA,QAAIpB,UAAUe,WAAWM,MAAX,CAAkBL,UAAlB,CAAd;AACA,QAAIM,iBAAiBtB,QAAQuB,IAAR,CAAaxB,WAAb,EAArB,CARyB,CAQwB;AACjD,QAAIyB,WAAW;AACXpF,aAAI4D,QAAQtF;AADD,KAAf;AAGAjD,aAAS6J,cAAT,EAAwBE,QAAxB;AACH,CAbD,C;;;;;;ACHA,wC;;;;;;ACAA,iC;;;;;;ACAA,4C;;;;;;ACAArD,OAAOzH,OAAP,GAAiB;AACf;;;AAGA+K,QAAM;AACJC,WAAO,MADH;AAEJC,UAAM,CACJ,EAAEC,SAAS,OAAX,EADI,EAEJ,EAAE9J,MAAM,UAAR,EAAoB8F,SAAS,wEAA7B,EAFI,EAGJ,EAAEiE,KAAK,aAAP,EAAsB/J,MAAM,aAA5B,EAA2C8F,SAAS,MAApD,EAHI,CAFF;AAOJkE,UAAM,CACJ,EAAEC,KAAK,MAAP,EAAehN,MAAM,cAArB,EAAqCiN,MAAM,cAA3C,EADI;AAPF,GAJS;AAef;;;AAGAC,OAAK,CACH,uBADG,EAEH,sCAFG,EAGH,2BAHG,EAIH,6BAJG,EAKH,2BALG,CAlBU;AAyBf;;;AAGAnJ,SAAO;AACLoJ,YAAQ,CAAC,OAAD,CADH;AAEL;;;AAGAC,UALK,kBAKGzJ,MALH,EAKW0J,GALX,EAKgB;AACnB,UAAIA,IAAIC,QAAR,EAAkB;AAChB3J,eAAOyF,MAAP,CAAcmE,KAAd,CAAoBC,IAApB,CAAyB;AACvBC,mBAAS,KADc;AAEvBC,gBAAM,aAFiB;AAGvBC,kBAAQ,eAHe;AAIvBC,mBAAS;AAJc,SAAzB;AAMD;AACF;AAdI,GA5BQ;;AA6CfC,kBAAgB;AACdC,UAAM,8BADQ;AAEdC,UAAM,sBAFQ;AAGd;AACA;AACAC,aAAU;AACR;AACA;AAFQ;AALI,GA7CD;;AAwDfC,UAAO,CACL,YADK,CAxDQ;AA2DfC,SAAM;AACJ,eAAW,CAAC,CAAC,WAAD,EAAc,CACxB;AACE,qBAAe,YADjB;AAEE,0BAAoB;AAFtB,KADwB,EAKxB,8BALwB,EAMxB,mBANwB,CAAd,CAAD,CADP;AASJC,cAAU;AATN,GA3DS;AAsEfC,WAAS,CACP,EAAEC,KAAK,qBAAP,EAA8BC,KAAK,IAAnC,EADO,EAEP,EAAED,KAAK,+BAAP,EAAwCC,KAAK,KAA7C,EAFO;;AAtEM,CAAjB,C;;;;;;;;;ACAA;AACA,IAAMpK,SAAS,uDAAAC,EAAf;AACA,IAAM5B,KAAK,mBAAA5C,CAAQ,CAAR,CAAX;AACA,IAAMmL,MAAM,mBAAAnL,CAAQ,EAAR,CAAZ;AACA,IAAM4G,aAAa,mBAAA5G,CAAQ,CAAR,CAAnB;;AAEAuE,OAAOqD,IAAP,CAAY,QAAZ,EAAsB,UAAUlE,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC9C,QAAIiE,OAAO,IAAIjB,WAAWkB,YAAf,EAAX;AACAD,SAAKE,KAAL,CAAWrE,GAAX,EAAgB,UAAUsD,GAAV,EAAegB,MAAf,EAAuBC,KAAvB,EAA8B;AAC5C,YAAIjB,GAAJ,EAAS;AACPrD,gBAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,OAA7B,EAAT;AACA;AACD;AACD;AACA,YAAI,CAACiC,OAAOlC,IAAZ,EAAkB;AACdnC,gBAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,QAAnB,EAA6BD,KAAK,QAAlC,EAAT;AACA;AACH;AACD,YAAI,CAACiC,OAAO5E,IAAZ,EAAkB;AACdO,gBAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,OAAnB,EAA4BD,KAAK,OAAjC,EAAT;AACA;AACH;AACD,YAAI,CAACiC,OAAOuD,QAAZ,EAAsB;AAClB5H,gBAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,OAAnB,EAA4BD,KAAK,OAAjC,EAAT;AACA;AACH;AACD,YAAGiC,OAAOlC,IAAP,CAAYuF,WAAZ,MAA6B3H,IAAIvB,OAAJ,CAAYmJ,OAA5C,EAAoD;AAChD3H,gBAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,UAAnB,EAA+BD,KAAK,UAApC,EAAT;AACA;AACH;AACD,YAAIC,OAAO;AACP5C,kBAAM4E,OAAO5E,IADN;AAEPmI,sBAAUvD,OAAOuD;AAFV,SAAX;AAIA3I,WAAGb,QAAH,CAAYb,IAAZ,CAAiB,EAAC,OAAO,0BAAR,EAAjB,EAAsD,UAAU8F,GAAV,EAAeE,MAAf,EAAuB;AACzE,gBAAIF,GAAJ,EAAS;AACLrD,oBAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,OAA7B,EAAT;AACA;AACH;AACD,gBAAImB,OAAO,CAAP,EAAU9D,IAAV,IAAkB4E,OAAO5E,IAA7B,EAAmC;AAC/BO,oBAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,MAA7B,EAAT;AACA;AACH;AACD,gBAAImB,OAAO,CAAP,EAAUqE,QAAV,IAAsBJ,IAAInD,OAAOuD,QAAX,CAA1B,EAAgD;AAC5C5H,oBAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAMgB,GAAnB,EAAwBjB,KAAK,MAA7B,EAAT;AACA;AACH;AACDrC,gBAAIvB,OAAJ,CAAY2B,KAAZ,GAAoB,CAApB;AACFH,gBAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,MAAnB,EAA2BD,KAAK,MAAhC,EAAT;AACD,SAfD;AAgBD,KA1CD;AA2CD,CA7CD;;AA+CA;AACAxB,OAAOI,GAAP,CAAW,SAAX,EAAsB,UAAUjB,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC5CF,QAAIvB,OAAJ,CAAY2B,KAAZ,GAAoB,CAAC,CAArB;AACAH,QAAIkC,IAAJ,CAAS,EAAEC,MAAM,GAAR,EAAaE,MAAM,MAAnB,EAA2BD,KAAK,MAAhC,EAAT;AACH,CAHD;AAIA,yDAAexB,MAAf,E","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b52e4af1fcee9c8bb673","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"formidable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"formidable\"\n// module id = 1\n// module chunks = 0","const mongoose = require('mongoose')\n\n// 分类\nlet CategorieSchema = new mongoose.Schema({\n  'name': String,\n  'img': String,\n  'goods_num': Number,\n  'createTime': {\n    type: Date,\n    default: Date.now\n  },\n  'updateTime': {\n    type: Date,\n    default: Date.now\n  }\n}, {timestamps: { createdAt: 'createTime', updatedAt: 'updateTime' }})\nCategorieSchema.index({'name': 1})\n\n// 分页\nCategorieSchema.statics = {\n  fetch (id, limit, cb) {\n    if (id) {\n      return this.find({'_id': {'$lt': id}})\n        .limit(limit)\n        .sort({'_id': -1})\n        .exec(cb)\n    } else {\n      return this.find({})\n        .limit(limit)\n        .sort({'_id': -1})\n        .exec(cb)\n    }\n  }\n}\n\n// 商品\nlet GoodsSchema = new mongoose.Schema({\n  'name': String,\n  'img': Array,\n  'hot': Number,\n  'content': String,\n  'categoryId': String,\n  'createTime': {\n    type: Date,\n    default: Date.now\n  },\n  'updateTime': {\n    type: Date,\n    default: Date.now\n  }\n}, {timestamps: { createdAt: 'createTime', updatedAt: 'updateTime' }})\nGoodsSchema.index({'name': 1, 'categoryId': 1})\n\n// 轮播\nlet SwiperSchema = new mongoose.Schema({\n  'name': String,\n  'img': String,\n  'createTime': {\n    type: Date,\n    default: Date.now\n  },\n  'updateTime': {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: {\n    createdAt: 'createTime',\n    updatedAt: 'updateTime'\n  }\n})\n\n// 关于我\nlet AboutSchema = new mongoose.Schema({\n  'banner': String,\n  'introduce': String,\n  'phone': Number,\n  'telephone': Number,\n  'wechat': String,\n  'name': String,\n  'address': String,\n  'longitude': Number,\n  'latitude': Number,\n  'createTime': {\n    type: Date,\n    default: Date.now\n  },\n  'updateTime': {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: {\n    createdAt: 'createTime',\n    updatedAt: 'updateTime'\n  }\n})\n\n// 配置\nlet ConfigSchema = new mongoose.Schema({\n  'name': String,\n  'password': String,\n  'phone': Number,\n  'rpassword': String,\n  'email': String,\n  'stmp_email': String,\n  'stmp_epassword': String,\n  'stmp': String,\n  'stmp_port': Number,\n  'appid': String,\n  'appsecret': String,\n  'createTime': {\n    type: Date,\n    default: Date.now\n  },\n  'updateTime': {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  timestamps: {\n    createdAt: 'createTime',\n    updatedAt: 'updateTime'\n  }\n})\n// model\nlet n_categorie = mongoose.model('n_categorie', CategorieSchema)\nlet n_goods = mongoose.model('n_goods', GoodsSchema)\nlet n_swiper = mongoose.model('n_swiper', SwiperSchema)\nlet n_about = mongoose.model('n_about', AboutSchema)\nlet n_config = mongoose.model('n_config', ConfigSchema)\n\n\nexports.n_categorie = n_categorie\nexports.n_goods = n_goods\nexports.n_swiper = n_swiper\nexports.n_about = n_about\nexports.n_config = n_config\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/db.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 3\n// module chunks = 0","import express from 'express'\nimport { Nuxt, Builder } from 'nuxt'\nimport api from './api'\nimport path from 'path'\nconst app = express()\nconst session = require(\"express-session\")\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || 3000\napp.set('port', port)\n\n// 连接数据库\nconst mongoose = require('mongoose');\nmongoose.connect('mongodb://localhost:27017/nanadmin');\nconst db = mongoose.connection;\ndb.once('open', function (callback) {\n  console.log(\"数据库成功打开\");\n});\n\n// 设置静态文件目录\napp.use('/uploads',express.static('uploads')); // 上传文件目录\n\n// session 中间件\napp.use(session({\n    name: 'config.session.key', // 设置 cookie 中保存 session id 的字段名称\n    secret: 'config.session.secret', // 通过设置 secret 来计算 hash 值并放在 cookie 中，使产生的 signedCookie 防篡改\n    resave: true, // 强制更新 session\n    saveUninitialized: false, // 设置为 false，强制创建一个 session，即使用户未登录\n    cookie: {\n        maxAge: 604800000// 过期时间，过期后 cookie 中的 session id 自动删除\n    }\n    // store: new MongoStore({// 将 session 存储到 mongodb\n    //     url: config.mongodb// mongodb 地址\n    // })\n}))\n// 验证是否登录\napp.use('/admin', function (req, res, next) {\n\tif (req.path == '/login') {\n        next();\n        return;\n    }\n    if(req.session.login != 1){\n        res.redirect('/admin/login')\n        return;\n    }\n    next();\n})\n// Import API Routes\napp.use('/api', api)\n\n// Import and Set Nuxt.js options\nlet config = require('../nuxt.config.js')\nconfig.dev = !(process.env.NODE_ENV === 'production')\n\n// Init Nuxt.js\nconst nuxt = new Nuxt(config)\n\n// Build only in dev mode\nif (config.dev) {\n  const builder = new Builder(nuxt)\n  builder.build()\n}\n\n// Give nuxt middleware to express\n\napp.use(nuxt.render)\n\n// Listen the server\napp.listen(port, host)\nconsole.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 5\n// module chunks = 0","import { Router } from 'express'\n\nimport info from './info'\nimport users from './users'\nimport categorys from './category'\nimport goods from  './goods'\nimport swiper from  './swiper'\nimport upload from '../model/upload'\nimport about from './about'\nimport config from './config'\nimport code from './code'\nimport login from './login'\nconst router = Router()\n\n// Add USERS Routes\nrouter.use(info) // 首页信息\nrouter.use(users)\nrouter.use(categorys) // 分类\nrouter.use(goods) // 商品\nrouter.use(swiper) // 轮播\nrouter.use(about) // 关于我们\nrouter.use(config) // 配置\nrouter.use(code) // 获取验证码\nrouter.use(login) // 登录\nrouter.use('/upload', upload)\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/index.js","import { Router } from 'express'\nconst router = Router()\nconst os = require('os')\nconst timeStamp = require('../model/timeStamp.js')\n/* GET info. */\nrouter.get('/info', function (req, res, next) {\n  let info = {\n    arch: os.arch(), // 获取cpu(处理器架构)\n    cpus: os.cpus(), // 获取cpu信息\n    endianness: os.endianness(), // 字节顺序 高位优先返回BE,低位优先的返回LE\n    freemem: Math.round(os.freemem() / 1048576), // 空闲内存字节\n    homedir: os.homedir(), // 当前登录用户的根目录\n    hostname: os.hostname(), // 操作系统主机名\n    networkInterfaces: os.networkInterfaces(), // 网络配置列表\n    platform: os.platform(), // 操作系统类型,返回值有'darwin', 'freebsd', 'linux', 'sunos' , 'win32'\n    release: process.version, // node版本\n    tmpdir: os.tmpdir(), // 操作系统临时文件的默认目录\n    totalmem: Math.round(os.totalmem() / 1048576), // 系统总内存\n    uptime: timeStamp.ddhhmm(os.uptime()) // 计算机正常运行时间\n  }\n  res.json({code: 200, msg: '获取成功', data: info})\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/info.js","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 8\n// module chunks = 0","exports.ddhhmm = function (second_time) {\n  let time = parseInt(second_time) + '秒'\n  if (parseInt(second_time) > 60) {\n    let second = parseInt(second_time) % 60\n    let min = parseInt(second_time / 60)\n    // time = min + \"分钟\" + second + \"秒\";\n    time = min + '分钟'\n\n    if (min > 60) {\n      min = parseInt(second_time / 60) % 60\n      let hour = parseInt(parseInt(second_time / 60) / 60)\n      // time = hour + \"小时\" + min + \"分\" + second + \"秒\";\n      time = hour + '小时' + min + '分钟'\n\n      if (hour > 24) {\n        hour = parseInt(parseInt(second_time / 60) / 60) % 24\n        let day = parseInt(parseInt(parseInt(second_time / 60) / 60) / 24)\n        // time = day + \"天\" + hour + \"小时\" + min + \"分\" + second + \"秒\";\n        time = day + '天' + hour + '小时' + min + '分钟'\n      }\n    }\n  }\n  return time\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/timeStamp.js","import { Router } from 'express'\n\nconst router = Router()\n\n// Mock Users\nconst users = [\n  { name: 'Alexandre' },\n  { name: 'Pooya' },\n  { name: 'Sébastien' },\n]\n\n/* GET users listing. */\nrouter.get('/users', function (req, res, next) {\n  res.json(users)\n})\n\n/* GET user by ID. */\nrouter.get('/users/:id', function (req, res, next) {\n  const id = parseInt(req.params.id)\n  if (id >= 0 && id < users.length) {\n    res.json(users[id])\n  } else {\n    res.sendStatus(404)\n  }\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/users.js","import { Router } from 'express'\nconst formidable = require('formidable')\n\nconst router = Router()\nconst db = require('../model/db.js')\n\n/* 后台分类列表 listing. */\nrouter.get('/category', function (req, res, next) {\n  let limit = req.query.limit || 10\n  let current_page = req.query.current_page || 1\n  current_page -= 1\n  let data = {}\n  // 获取分类数量\n  db.n_categorie.find().count().exec((err, count) => {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    data.total = count\n    data.limit = limit\n\n    // 获取分类列表\n    db.n_categorie.find().sort({'_id': -1}).exec((err, result) => {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      // console.log(result)\n      if (result.length === 0) {\n        res.json({code: 400, data: '没有数据', msg: '没有数据'})\n        return\n      }\n      let len = result.length - 1\n      let results = result\n\n      // 获取分类商品条数\n      categorieNumber(len)\n      function categorieNumber (i) {\n        db.n_goods.find({'categoryId': result[i]._id}, function (err, result1) {\n          if (err) {\n            res.json({code: 500, data: err, msg: '服务器错误'})\n            return\n          }\n          results[i].goods_num = result1.length\n          results[i].img = '../' + results[i].img\n          if (i != 0) {\n            i--\n            categorieNumber(i)\n          } else {\n            data.category = results\n            data.current_page = current_page + 1\n            res.json({code: 200, data: data, msg: '获取列表成功'})\n          }\n        })\n      }\n    })\n  })\n\n})\n\n// 添加、编辑分类\nrouter.post('/addCategory', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.name) {\n      res.json({code: 400, data: 'name参数缺少', msg: 'name参数缺少'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: 'img参数缺少', msg: 'img参数缺少'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    if (fields.id) {\n      let id = fields.id\n      // 更新分类\n      db.n_categorie.update({ '_id': id }, {$set: {'name': name, 'img': img}}, function (err, result) {\n        if (err) {\n          res.json({code: 500, data: err, msg: '服务器错误'})\n          return\n        }\n        // console.log(result)\n        res.json({code: 200, data: '修改成功', msg: '修改成功'})\n      })\n    } else {\n      // 判断分类名是否重复\n      db.n_categorie.find({'name': name}, function (err, result) {\n        if (err) {\n          res.json({code: 500, data: err, msg: '服务器错误'})\n          return\n        }\n        if (result.length > 0) {\n          res.json({code: 400, data: '分类名已存在', msg: '分类名已存在'})\n          return\n        }\n        // 创建分类\n        new db.n_categorie({'name': name, 'img': img}).save(function (err) {\n          if (err) {\n            res.json({code: 500, data: err, msg: '服务器错误'})\n            return\n          }\n          res.json({code: 200, msg: '添加分类成功', data: '添加分类成功'});\n        })\n      })\n    }\n  })\n})\n\n// 删除分类\nrouter.delete('/delCategory', function (req, res, next) {\n  if (!req.query.id) {\n    res.json({code: 400, data: '参数缺少: id', msg: '参数缺少: id'})\n    return\n  }\n  let ids = req.query.id\n  for (let i of ids) {\n    db.n_categorie.remove({'_id': i}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n    })\n  }\n  res.json({code: 200, data: '删除成功', msg: '删除成功'})\n})\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/category.js","import { Router } from 'express'\nconst formidable = require('formidable')\nconst moment = require('moment')\nmoment.locale('zh-cn')\nconst router = Router()\nconst db = require('../model/db.js')\n\n// 商品查询\nrouter.get('/goods', function (req, res, next) {\n  let limit = req.query.limit || 10\n  let current_page = req.query.current_page || 1\n  let categoryId = {}\n  if (req.query.categoryId) {\n    categoryId['categoryId'] = req.query.categoryId\n  }\n  current_page -= 1\n  let data = {}\n  // 查询总数\n  db.n_goods.find(categoryId).count().exec((err, count) => {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    data.total = count\n    data.limit = limit\n    // 获取列表\n    db.n_goods.find(categoryId).sort({'_id': -1}).skip(current_page * limit).limit(limit).exec((err, result) => {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      if (result.length === 0) {\n        res.json({code: 400, data: '没有数据', msg: '没有数据'})\n        return\n      }\n      let list = []\n      let tempJson = {}\n      result.forEach((v, i) => {\n        tempJson = {}\n        tempJson['createTime'] = moment(result[i].createTime).format('YYYY-MM-DD HH:mm:ss')\n        tempJson['_id'] = result[i]._id\n        tempJson['name'] = result[i].name\n        tempJson['img'] = result[i].img\n        tempJson['content'] = result[i].content\n        tempJson['hot'] = result[i].hot\n        tempJson['categoryId'] = result[i].categoryId\n        tempJson['updateTime'] = result[i].updateTime\n        tempJson['__v'] = result[i].__v\n        list[i] = tempJson\n      })\n      data.current_page = current_page + 1\n      data.data = list\n      res.json({code: 200, data: data, msg: '获取商品列表成功'})\n\n    })\n  })\n})\n\n// 添加商品\nrouter.post('/goods', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.name) {\n      res.json({code: 400, data: '缺少参数:name', msg: '缺少参数:name'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: '缺少参数:img', msg: '缺少参数:img'})\n      return\n    }\n    if(!fields.content) {\n      res.json({code: 400, data: '缺少参数:content', msg: '缺少参数:content'})\n      return\n    }\n    if(!fields.categoryId) {\n      res.json({code: 400, data: '缺少参数:categoryId', msg: '缺少参数:categoryId'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    let content = fields.content\n    let categoryId = fields.categoryId\n    // 验证名字是否一样\n    db.n_goods.find({'name': name}).count().exec((err, count)=>{\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      if (count !== 0) {\n        res.json({code: 400, data: '商品名称重复', msg: '商品名称重复'})\n        return\n      }\n      // 创建商品\n      new db.n_goods({'name': name, 'img': img, 'content': content, 'hot': 0, 'categoryId': categoryId}).save(function (err) {\n        if (err) {\n          res.json({code: 500, data: err, msg: '服务器错误'})\n          return\n        }\n        res.json({code: 200, msg: '添加商品成功', data: '添加商品成功'})\n      })\n    })\n  })\n})\n\n// 修改商品\nrouter.put('/goods', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.id) {\n      res.json({code: 400, data: '缺少参数:id', msg: '缺少参数:id'})\n      return\n    }\n    if (!fields.name) {\n      res.json({code: 400, data: '缺少参数:name', msg: '缺少参数:name'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: '缺少参数:img', msg: '缺少参数:img'})\n      return\n    }\n    if(!fields.content) {\n      res.json({code: 400, data: '缺少参数:content', msg: '缺少参数:content'})\n      return\n    }\n    if(!fields.categoryId) {\n      res.json({code: 400, data: '缺少参数:categoryId', msg: '缺少参数:categoryId'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    let content = fields.content\n    let categoryId = fields.categoryId\n    let id = fields.id\n    db.n_goods.update({ '_id': id }, {$set: {'name': name, 'img': img, 'content': content, 'categoryId': categoryId}}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      // console.log(result)\n      res.json({code: 200, data: '修改成功', msg: '修改成功'})\n    })\n  })\n})\n\n// 删除商品\nrouter.delete('/goods', function (req, res, next) {\n  if (!req.query.id) {\n    res.json({code: 400, data: '参数缺少: id', msg: '参数缺少: id'})\n    return\n  }\n  let ids = req.query.id\n  for (let i of ids) {\n    db.n_goods.remove({'_id': i}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n    })\n  }\n  res.json({code: 200, data: '删除成功', msg: '删除成功'})\n})\n\n// 获取商品详情\nrouter.get('/goods/detail', function (req, res, next) {\n  let id = req.query.id\n  if (!id) {\n    res.json({code: 400, data: '缺少参数:id', msg: '缺少参数:id'})\n    return\n  }\n  db.n_goods.find({'_id': id}, function (err, result) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    res.json({code: 200, data: result, msg: '商品详情获取成功'})\n  })\n})\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/goods.js","module.exports = require(\"moment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 13\n// module chunks = 0","import { Router } from 'express'\nconst formidable = require('formidable')\nconst router = Router()\nconst db = require('../model/db.js')\n\n// 获取轮播列表\nrouter.get('/swiper', function (req, res, next) {\n  db.n_swiper.find().sort({'_id': -1}).exec((err, result) => {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    let list = []\n    let tempJson = {}\n    result.forEach((v, i) => {\n      tempJson = {}\n      tempJson['url'] = 'http://' + req.headers.host + '/' + result[i].img\n      tempJson['img'] = '../' + result[i].img\n      tempJson['name'] = result[i].name\n      tempJson['updateTime'] = result[i].updateTime\n      tempJson['createTime'] = result[i].createTime\n      tempJson['__v'] = result[i].__v\n      tempJson['_id'] = result[i]._id\n      list[i] = tempJson\n    })\n\n    res.json({code: 200, data: list, msg: '获取轮播成功'})\n  })\n})\n\n// 添加轮播\nrouter.post('/swiper', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.name) {\n      res.json({code: 400, data: 'name参数缺少', msg: 'name参数缺少'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: 'img参数缺少', msg: 'img参数缺少'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    new db.n_swiper({'name': name, 'img': img}).save(function (err) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      res.json({code: 200, msg: '添加轮播成功', data: '添加轮播成功'})\n    })\n  })\n})\n\n// 修改轮播\nrouter.put('/swiper', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 500, data: err, msg: '服务器错误'})\n      return\n    }\n    // console.log(fields)\n    if (!fields.id) {\n      res.json({code: 400, data: '缺少参数:id', msg: '缺少参数:id'})\n      return\n    }\n    if (!fields.name) {\n      res.json({code: 400, data: '缺少参数:name', msg: '缺少参数:name'})\n      return\n    }\n    if (!fields.img) {\n      res.json({code: 400, data: '缺少参数:img', msg: '缺少参数:img'})\n      return\n    }\n    let name = fields.name\n    let img = fields.img\n    let id = fields.id\n    db.n_swiper.update({ '_id': id }, {$set: {'name': name, 'img': img}}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n      // console.log(result)\n      res.json({code: 200, data: '修改成功', msg: '修改成功'})\n    })\n  })\n})\n\nrouter.delete('/swiper', function (req, res, next) {\n  if (!req.query.id) {\n    res.json({code: 400, data: '参数缺少: id', msg: '参数缺少: id'})\n    return\n  }\n  let ids = req.query.id\n  for (let i of ids) {\n    db.n_swiper.remove({'_id': i}, function (err, result) {\n      if (err) {\n        res.json({code: 500, data: err, msg: '服务器错误'})\n        return\n      }\n    })\n  }\n  res.json({code: 200, data: '删除成功', msg: '删除成功'})\n})\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/swiper.js","const formidable = require('formidable')\nconst fs = require('fs')\n\nmodule.exports = function (req, res, next) {\n\n  let form = new formidable.IncomingForm()\n  form.uploadDir = 'uploads'\n  form.keepExtensions = true // 保留后缀\n  form.maxFieldsSize = 2 * 1024 * 1024 // 文件大小\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({code: 400, data: err, msg: err})\n      return\n    }\n    let date = new Date()\n    let y = date.getFullYear()\n    let m = date.getMonth() + 1\n    let t = date.getTime()\n    let oldPath = files.file.path // 原始文件\n    let type = /\\.[^\\.]+$/.exec(oldPath)[0] // 获取文件后缀名\n    let newPath = 'uploads/' + y + '/' + m + '/' + t + type\n\n    // 判断目录是否存在，不存在就新建\n    if (!fs.existsSync('uploads/' + y)) {\n      fs.mkdirSync('uploads/' + y)\n    }\n    if (!fs.existsSync('uploads/' + y + '/' + m)) {\n      fs.mkdirSync('uploads/' + y + '/' + m)\n    }\n    // 移动，重命名文件\n    let rename = fs.renameSync(oldPath, newPath)\n    if (!rename) {\n      res.json({code: 200, msg: '文件上传成功', data: {'img': newPath, url: req.headers.origin + '/' + newPath}})\n    } else {\n      res.json({code: 400, msg: '文件上传失败', data: '文件上传失败'})\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/upload.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 16\n// module chunks = 0","import { Router } from 'express'\nconst router = Router()\nconst db = require('../model/db.js')\nconst formidable = require('formidable')\n\nrouter.get('/about', function(req, res, next) {\n  db.n_about.find({ '_id': '5b153849af117421350babee' }, function(err, result) {\n    if (err) return res.json({ code: 500, data: err, msg: '服务器错误' })\n    let list = []\n      let tempJson = {}\n      result.forEach((v, i) => {\n        tempJson = {}\n        if (!result[i].banner == '') {\n        \ttempJson['banner'] = '../' + result[i].banner\n        \ttempJson['url'] = 'http://' + req.headers.host + '/' + result[i].banner\n        }\n        tempJson['createTime'] = result[i].createTime\n        tempJson['updateTime'] = result[i].updateTime\n        tempJson['_id'] = result[i]._id\n        tempJson['introduce'] = result[i].introduce\n        tempJson['phone'] = result[i].phone\n        tempJson['telephone'] = result[i].telephone\n        tempJson['wechat'] = result[i].wechat\n        tempJson['name'] = result[i].name\n        tempJson['address'] = result[i].address\n        tempJson['__v'] = result[i].__v\n        list[i] = tempJson\n      })\n    res.json({ code: 200, data: list, msg: '获取关于成功' })\n  })\n})\n\nrouter.post('/about', function(req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function(err, fields, files) {\n    if (err) {\n      res.json({ code: 500, data: err, msg: '服务器错误' })\n      return\n    }\n    // console.log(fields)\n    let data = {}\n    if (fields.banner) {\n      data.banner = fields.banner // 顶部banner图\n    }\n    if (fields.introduce) {\n      data.introduce = fields.introduce // 企业简介\n    }\n    if (fields.phone) {\n      data.phone = fields.phone // 手机号\n\n    }\n    if (fields.telephone) {\n      data.telephone = fields.telephone // 电话号\n\n    }\n    if (fields.wechat) {\n      data.wechat = fields.wechat // 微信号\n\n    }\n    if (fields.name) {\n      data.name = fields.name // 定位名称号\n\n    }\n    if (fields.address) {\n      data.address = fields.address // 定位地址号\n\n    }\n    db.n_about.update({ '_id': '5b153849af117421350babee' }, {$set: data}, function (err, result) {\n    \tif (err) {\n\t      res.json({ code: 500, data: err, msg: '服务器错误' })\n\t      return\n\t    }\n\t    res.json({code: 200, data: result, msg: '更新成功'})\n    })\n\n  })\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/about.js","import { Router } from 'express'\nconst router = Router()\nconst db = require('../model/db.js')\nconst md5 = require('../model/md5.js')\nconst formidable = require('formidable')\n\nrouter.get('/config', function(req, res, next) {\n  db.n_config.find({ '_id': '5b154983a0c11b3686ccb5af' }, function(err, result) {\n    if (err) return res.json({ code: 500, data: err, msg: '服务器错误' })\n    res.json({ code: 200, data: result, msg: '获取成功' })\n  })\n})\n\nrouter.post('/config', function(req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function(err, fields, files) {\n    if (err) {\n      res.json({ code: 500, data: err, msg: '服务器错误' })\n      return\n    }\n    if (!fields.code) {\n      res.json({ code: 400, data: '缺少参数：code', msg: '缺少参数：code' })\n      return\n    }\n    if (!fields.old_password) {\n      res.json({ code: 400, data: '缺少参数：old_password', msg: '缺少参数：old_password' })\n      return\n    }\n    if (fields.code.toLowerCase() != req.session.captcha) {\n      res.json({ code: 400, data: '验证码错误', msg: '验证码错误' })\n      return\n    }\n    let password = md5(fields.old_password)\n    db.n_config.find({ '_id': '5b154983a0c11b3686ccb5af' }, function(err, result) {\n      if (err) return res.json({ code: 500, data: err, msg: '服务器错误' })\n      if (password != result[0].password) {\n        res.json({ code: 400, data: '密码错误', msg: '密码错误' })\n        return\n      }\n      // console.log(fields)\n      let data = {}\n      if (fields.name) {\n        data.name = fields.name // 账号\n      }\n      if (fields.password) {\n        data.password = md5(fields.password) // 密码\n      }\n\n      if (fields.email) {\n        data.email = fields.email // 管理员邮箱地址\n\n      }\n      if (fields.stmp_email) {\n        data.stmp_email = fields.stmp_email // STMP邮箱地址\n\n      }\n      if (fields.stmp_epassword) {\n        data.stmp_epassword = fields.stmp_epassword // STMP密码\n\n      }\n      if (fields.stmp) {\n        data.stmp = fields.stmp // STMP地址\n      }\n      if (fields.stmp_port) {\n        data.stmp_port = fields.stmp_port // STMP端口\n      }\n      if (fields.appid) {\n        data.appid = fields.appid // AppId\n      }\n      if (fields.appsecret) {\n        data.appsecret = fields.appsecret // APPSecret\n      }\n      db.n_config.update({ '_id': '5b154983a0c11b3686ccb5af' }, { $set: data }, function(err, result) {\n        if (err) {\n          res.json({ code: 500, data: err, msg: '服务器错误' })\n          return\n        }\n        res.json({ code: 200, data: result, msg: '更新成功' })\n      })\n\n    })\n\n\n  })\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/config.js","const crypto = require(\"crypto\");\n\nmodule.exports = function(pwd){\n    function m(e) {\n        return crypto.createHash('md5').update(e).digest('base64');\n    }\n\n    let password = m(m(pwd) + '@Jason' + m(pwd));\n    return password;\n}\n\n\n// WEBPACK FOOTER //\n// ./server/model/md5.js","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 20\n// module chunks = 0","import { Router } from 'express'\nconst router = Router()\nconst getCode = require('../model/svgCaptcha.js')\n\nrouter.get('/code', function(req, res, next) {\n  getCode(function(code, img) {\n    //存session用于验证接口获取文字码\n    req.session.captcha = code\n    let data = {}\n    if (code && img) {\n      data = {\n        code: 200,\n        msg: '获取成功',\n        data: img\n      }\n    } else {\n      data = {\n        code: 400,\n        msg: '获取失败',\n        data: img\n      }\n    }\n\n    res.json(data)\n  })\n\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/code.js","// 获取验证码\nconst svgCaptcha = require('svg-captcha');\n\nmodule.exports = callback => {\n    let codeConfig = {\n        size: 5,// 验证码长度\n        ignoreChars: '0o1i', // 验证码字符中排除 0o1i\n        noise: 2, // 干扰线条的数量\n        height: 45\n    }\n    let captcha = svgCaptcha.create(codeConfig);\n    let sessionCaptcha = captcha.text.toLowerCase(); //存session用于验证接口获取文字码\n    let codeData = {\n        img:captcha.data\n    }\n    callback(sessionCaptcha,codeData);\n}\n\n\n// WEBPACK FOOTER //\n// ./server/model/svgCaptcha.js","module.exports = require(\"svg-captcha\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"svg-captcha\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 25\n// module chunks = 0","module.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: '康诚机电',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0' },\n      { hid: 'description', name: 'description', content: '康诚机电' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  /*\n  ** Global CSS\n  */\n  css: [\n    '~/assets/css/main.css',\n    'element-ui/lib/theme-chalk/index.css',\n    'quill/dist/quill.snow.css',\n    'quill/dist/quill.bubble.css',\n    'quill/dist/quill.core.css'\n  ],\n  /*\n  ** Add axios globally\n  */\n  build: {\n    vendor: ['axios'],\n    /*\n    ** Run ESLINT on save\n    */\n    extend (config, ctx) {\n      if (ctx.isClient) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  },\n\n  styleResources: {\n    scss: ' ./ assets / variables.scss ',\n    less: ' ./assets /* . less ',\n    // sass：...，\n    // scss：...\n    options : {\n      //参见https://github.com/yenshih/style-resources-loader#options\n      //除`patterns`属性外\n    }\n  },\n\n  vender:[\n    'element-ui'\n  ],\n  babel:{\n    \"plugins\": [[\"component\", [\n      {\n        \"libraryName\": \"element-ui\",\n        \"styleLibraryName\": \"theme-default\"\n      },\n      'transform-async-to-generator',\n      'transform-runtime'\n    ]]],\n    comments: true\n  },\n  plugins: [\n    { src: '~plugins/element-ui', ssr: true },\n    { src: '~plugins/nuxt-quill-plugin.js', ssr: false }\n  ],\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import { Router } from 'express'\nconst router = Router()\nconst db = require('../model/db.js')\nconst md5 = require('../model/md5.js')\nconst formidable = require('formidable')\n\nrouter.post('/login', function (req, res, next) {\n  let form = new formidable.IncomingForm()\n  form.parse(req, function (err, fields, files) {\n    if (err) {\n      res.json({ code: 500, data: err, msg: '服务器错误' })\n      return\n    }\n    // console.log(fields)\n    if (!fields.code) {\n        res.json({ code: 400, data: '请输入验证码', msg: '请输入验证码' })\n        return\n    }\n    if (!fields.name) {\n        res.json({ code: 400, data: '请输入账户', msg: '请输入账户' })\n        return\n    }\n    if (!fields.password) {\n        res.json({ code: 400, data: '请输入密码', msg: '请输入密码' })\n        return\n    }\n    if(fields.code.toLowerCase() != req.session.captcha){\n        res.json({ code: 400, data: '请输入验证码错误', msg: '请输入验证码错误' })\n        return\n    }\n    let data = {\n        name: fields.name,\n        password: fields.password\n    }\n    db.n_config.find({'_id': '5b154983a0c11b3686ccb5af'}, function (err, result) {\n        if (err) {\n            res.json({ code: 500, data: err, msg: '服务器错误' })\n            return\n        }\n        if (result[0].name != fields.name) {\n            res.json({ code: 400, data: err, msg: '账号错误' })\n            return\n        }\n        if (result[0].password != md5(fields.password)) {\n            res.json({ code: 400, data: err, msg: '密码错误' })\n            return\n        }\n        req.session.login = 1\n      res.json({ code: 200, data: '登录成功', msg: '登录成功' })\n    })\n  })\n})\n\n// 注销登录\nrouter.get('/logout', function (req, res, next) {\n    req.session.login = -1\n    res.json({ code: 200, data: '退出成功', msg: '退出成功' })\n})\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/login.js"],"sourceRoot":""}